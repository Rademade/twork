(function(e){function t(t){for(var n,s,o=t[0],c=t[1],u=t[2],p=0,f=[];p<o.length;p++)s=o[p],a[s]&&f.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},a={app:0},i=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0895":function(e,t,r){e.exports=r.p+"img/google.9dec7673.svg"},1537:function(e,t,r){"use strict";var n=r("29b8"),a=r.n(n);a.a},"29b8":function(e,t,r){},"2a44":function(e,t,r){},"3e30":function(e,t,r){},4678:function(e,t,r){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=i(e);return r(t)}function i(e){var t=n[e];if(!(t+1)){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}return t}a.keys=function(){return Object.keys(n)},a.resolve=i,e.exports=a,a.id="4678"},"523a":function(e,t,r){"use strict";var n=r("3e30"),a=r.n(n);a.a},"56d7":function(e,t,r){"use strict";r.r(t);r("96cf");var n=r("3040"),a=(r("cadf"),r("551c"),r("097d"),r("2b0e")),i=r("ce5b"),s=r.n(i),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{id:"app"}},[r("router-view")],1)},c=[],u={},l=u,p=(r("a5d2"),r("2877")),f=Object(p["a"])(l,o,c,!1,null,null,null);f.options.__file="App.vue";var d=f.exports,m=r("8c4f"),h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper"},[r("router-view",{staticClass:"main"})],1)},v=[],b={},g=Object(p["a"])(b,h,v,!1,null,null,null);g.options.__file="Layout.vue";var j=g.exports,y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{id:"inspire"}},[r("NavigationDrawer"),r("v-content",[r("v-container",{attrs:{fluid:"","fill-height":""}},[r("router-view")],1)],1),r("v-footer",{attrs:{app:"",fixed:""}},[r("span",[e._v("Â© 2017")])])],1)},k=[],w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-navigation-drawer",{attrs:{"mini-variant":e.isMini,clipped:"",fixed:"",app:"",width:180},on:{"update:miniVariant":function(t){e.isMini=t}},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-list",{attrs:{dense:""}},e._l(e.navigation,function(t){return r("v-list-tile",{key:t.title,on:{click:function(r){e.$router.push({name:t.route})}}},[r("v-list-tile-action",[r("v-icon",[e._v(e._s(t.ico))])],1),r("v-list-tile-content",[r("v-list-tile-title",[e._v(e._s(t.title))])],1)],1)}))],1),r("v-toolbar",{attrs:{app:"",fixed:"","clipped-left":""}},[r("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),r("v-toolbar-title",[e._v("Twork")]),r("v-spacer"),r("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[r("v-btn",[r("Profile")],1)],1)],1)],1)},x=[],_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"text-xs-center"},[r("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":"","offset-x":""},model:{value:e.isProfileMenuOpened,callback:function(t){e.isProfileMenuOpened=t},expression:"isProfileMenuOpened"}},[r("v-avatar",{attrs:{slot:"activator",tile:!1,size:30,color:"grey lighten-4"},slot:"activator"},[r("img",{attrs:{src:e.user.imgUrl||"https://placehold.it/50x50",alt:e.user.name}})]),r("v-card",[r("v-list",[r("v-list-tile",{attrs:{avatar:""}},[r("v-list-tile-avatar",[r("img",{attrs:{src:e.user.imgUrl||"https://placehold.it/50x50",alt:e.user.name}})]),r("v-list-tile-content",[r("v-list-tile-title",[e._v(e._s(e.user.name))])],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(t){e.logout()}}},[e._v("Logout")])],1)],1)],1)],1)},O=[],E=r("c665"),R=r("aa9a"),S=r("ea05"),T=r.n(S),P="keyval-store",D="keyval",I=T.a.open(P,1,function(e){e.objectStoreNames.contains(D)||e.createObjectStore(D)}),$=function(){function e(){Object(E["a"])(this,e)}return Object(R["a"])(e,[{key:"get",value:function(e){return I.then(function(t){return t.transaction(D).objectStore(D).get(e)})}},{key:"set",value:function(e,t){return I.then(function(r){var n=r.transaction(D,"readwrite");return n.objectStore(D).put(t,e),n.complete})}},{key:"delete",value:function(e){return I.then(function(t){var r=t.transaction(D,"readwrite");return r.objectStore(D).delete(e),r.complete})}},{key:"clear",value:function(){return I.then(function(e){var t=e.transaction(D,"readwrite");return t.objectStore(D).clear(),t.complete})}},{key:"keys",value:function(){return I.then(function(e){var t=e.transaction(D),r=[],n=t.objectStore(D);return(n.iterateKeyCursor||n.iterateCursor).call(n,function(e){e&&(r.push(e.key),e.continue())}),t.complete.then(function(){return r})})}}]),e}(),M=new $,A=M,C={apiPrefix:"/api/v1",googleAuthProviderLink:"/api/v1/auth/google",isProduction:!0,WebPushVapidPublicKey:"BC-2UVu0tn7q06TbBdBGB2QqPWmU0sZLJOQL_PmIpyfJ9PR6Lyycg2bfiivBiD_V9zrrZvX-PdgJW7aYA_WlLCg"},N=r("2e94"),z=r.n(N),L=function(){function e(t){Object(E["a"])(this,e),this.resourceName=t,this.basePath=C.apiPrefix+t}return Object(R["a"])(e,[{key:"get",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.requestHeaders();case 3:return t=e.sent,e.next=6,z()(this.basePath,{headers:t});case 6:return r=e.sent,e.next=9,r.json();case 9:return e.abrupt("return",e.sent);case 12:e.prev=12,e.t0=e["catch"](0),console.log(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a,i=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},e.prev=1,e.next=4,this.requestHeaders();case 4:return r=e.sent,e.next=7,z()(this.basePath,{method:"POST",body:JSON.stringify(t),headers:r});case 7:return n=e.sent,e.next=10,n.json();case 10:return a=e.sent,e.abrupt("return",a);case 14:e.prev=14,e.t0=e["catch"](1),console.log(e.t0);case 17:case"end":return e.stop()}},e,this,[[1,14]])}));return function(){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n,a,i,s=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},e.prev=1,e.next=4,this.requestHeaders();case 4:return n=e.sent,e.next=7,z()(this.basePath+"/"+t,{method:"PUT",body:JSON.stringify(r),headers:n});case 7:return a=e.sent,e.next=10,a.json();case 10:return i=e.sent,e.abrupt("return",i);case 14:e.prev=14,e.t0=e["catch"](1),console.log(e.t0);case 17:case"end":return e.stop()}},e,this,[[1,14]])}));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n,a,i,s=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},e.prev=1,e.next=4,this.requestHeaders();case 4:return n=e.sent,e.next=7,z()(this.basePath+"/"+t,{method:"DELETE",body:JSON.stringify(r),headers:n});case 7:return a=e.sent,e.next=10,a.json();case 10:return i=e.sent,e.abrupt("return",i);case 14:e.prev=14,e.t0=e["catch"](1),console.log(e.t0);case 17:case"end":return e.stop()}},e,this,[[1,14]])}));return function(t){return e.apply(this,arguments)}}()},{key:"requestHeaders",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,A.get("auth-token");case 2:return t=e.sent,e.abrupt("return",{Authorization:"JWT ".concat(t),"Content-Type":"application/json"});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),U="auth-token",W=function(){function e(){Object(E["a"])(this,e),this.currentUser=null,this.currentWorkspaceId=null,this.userApiService=new L("/users/me")}return Object(R["a"])(e,[{key:"login",value:function(){return this.fetchUser()}},{key:"logout",value:function(){return this.currentUser=null,A.delete(U)}},{key:"fetchUser",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getToken();case 2:if(t=e.sent,!t){e.next=10;break}return e.next=6,this.userApiService.get();case 6:r=e.sent,this.setUser(r),e.next=11;break;case 10:throw"User is not authentificated";case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setUser",value:function(e){this.currentUser=e}},{key:"getCurrentWorkspaceId",value:function(){return this.currentUser.workspaces[0].id}},{key:"setToken",value:function(e){return A.set(U,e)}},{key:"getToken",value:function(){return A.get(U)}}]),e}(),B=new W,G=B,F={name:"Profile",data:function(){return{isProfileMenuOpened:!1,user:G.currentUser}},methods:{logout:function(){var e=this;G.logout().then(function(){return e.$router.push({name:"home"})})}}},Y=F,q=Object(p["a"])(Y,_,O,!1,null,null,null);q.options.__file="Profile.vue";var J=q.exports,V={components:{Profile:J},data:function(){return{isMini:!1,drawer:!0,navigation:[{title:"Timer",ico:"alarm",route:"timer-list"},{title:"Projects",ico:"work",route:"projects"},{title:"Reports",ico:"assessment",route:"reports"}]}},mounted:function(){this.onResize(),window.addEventListener("resize",this.onResize,{passive:!0})},beforeDestroy:function(){"undefined"!==typeof window&&window.removeEventListener("resize",this.onResize,{passive:!0})},methods:{onResize:function(){this.isMini=window.innerWidth<600}}},H=V,K=Object(p["a"])(H,w,x,!1,null,null,null);K.options.__file="NavigationDrawer.vue";var X=K.exports,Q={components:{NavigationDrawer:X}},Z=Q,ee=Object(p["a"])(Z,y,k,!1,null,null,null);ee.options.__file="AppLayout.vue";var te=ee.exports,re=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("p",[e._v("Not Found 404")]),r("router-link",{attrs:{to:{name:"root"}}},[e._v("Go to index")])],1)},ne=[],ae={},ie=ae,se=Object(p["a"])(ie,re,ne,!1,null,null,null);se.options.__file="NotFound.vue";var oe=se.exports,ce=function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r,n){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("Auth checked!"),e.prev=1,!G.currentUser){e.next=6;break}return e.abrupt("return",n());case 6:return e.next=8,G.getToken();case 8:if(a=e.sent,!a){e.next=15;break}return e.next=12,G.fetchUser();case 12:return e.abrupt("return",n());case 15:return e.abrupt("return",n("/sign/in"));case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e["catch"](1),console.log(e.t0),e.abrupt("return",n("/sign/in"));case 22:case"end":return e.stop()}},e,this,[[1,18]])}));return function(t,r,n){return e.apply(this,arguments)}}(),ue=ce,le=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sign"},[e._m(0),r("div",{staticClass:"sign__content"},[r("p",{staticClass:"sign__title"},[e._v("Be more effective today!")]),r("div",{staticClass:"sign__form"},[e.isUserLoggedIn?e._e():r("router-link",{staticClass:"sign__button sign__button--icon",attrs:{to:"signin"}},[r("svg",{staticClass:"sign__icon"},[r("use",{attrs:{"xlink:href":"#google"}})]),e._v("\n        Login with google\n      ")]),e.isUserLoggedIn?r("router-link",{staticClass:"sign__button",attrs:{to:"timer"}},[e._v("Go to timer")]):e._e()],1)])])},pe=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",{staticClass:"sign-header"},[r("span",{staticClass:"sign-header__logo"},[e._v("TWork")])])}],fe={name:"Home",data:function(){return{isUserLoggedIn:!!G.currentUser}}},de=fe,me=(r("1537"),Object(p["a"])(de,le,pe,!1,null,"897d8e6e",null));me.options.__file="Index.vue";var he=me.exports,ve={path:"/",component:he,name:"home"},be=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("router-view")],1)},ge=[],je={name:"Sign"},ye=je,ke=Object(p["a"])(ye,be,ge,!1,null,null,null);ke.options.__file="Sign.vue";var we=ke.exports,xe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sign"},[r("div",{staticClass:"sign"},[e._m(0),r("div",{staticClass:"sign__content"},[r("p",{staticClass:"sign__title"},[e._v("You are almost there!")]),r("div",{staticClass:"sign__form"},[r("a",{staticClass:"sign__button sign__button--icon",attrs:{href:e.googleAuthProviderLink}},[r("svg",{staticClass:"sign__icon"},[r("use",{attrs:{"xlink:href":"#google"}})]),e._v("\n          Authorize with Google\n        ")])])])])])},_e=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",{staticClass:"sign-header"},[r("span",{staticClass:"sign-header__logo"},[e._v("TWork")])])}],Oe=(r("0895"),{name:"SignIn",data:function(){return{googleAuthProviderLink:C.googleAuthProviderLink}}}),Ee=Oe,Re=(r("523a"),Object(p["a"])(Ee,xe,_e,!1,null,"4c0a5d80",null));Re.options.__file="SignIn.vue";var Se=Re.exports,Te=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[e._v("Succeess")])},Pe=[],De={mounted:function(){var e=this,t=this.$route.query.token;console.log(G),G.setToken(t).then(function(){G.fetchUser().then(function(){return e.$router.push({name:"timer"})})})}},Ie=De,$e=Object(p["a"])(Ie,Te,Pe,!1,null,null,null);$e.options.__file="SignInSuccess.vue";var Me=$e.exports,Ae={path:"/sign",component:we,redirect:{name:"signIn"},children:[{path:"in",name:"signin",component:Se},{path:"success",name:"success",component:Me}]},Ce=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{row:""}},[r("router-view")],1)},Ne=[],ze={},Le=ze,Ue=Object(p["a"])(Le,Ce,Ne,!1,null,null,null);Ue.options.__file="TimerLayout.vue";var We=Ue.exports,Be=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("v-card",[e._l(e.timeEntryGroups,function(e,t){return r("div",{key:t},[r("TimerListGroup",{attrs:{"two-line":"",subheader:"",timeEntriesDate:t,timeEntries:e}}),r("v-divider")],1)}),r("v-btn",{attrs:{color:"pink",dark:"",fixed:"",bottom:"",right:"",fab:""}},[r("v-icon",[e._v("add")])],1)],2)],1)},Ge=[],Fe=r("c93e"),Ye=r("2f62"),qe=function(){function e(){Object(E["a"])(this,e),this.deferredPrompt=null}return Object(R["a"])(e,[{key:"initBeforeInstallPromptListener",value:function(){var e=this;console.log("Lister to beforeInstallPrompt"),window.addEventListener("beforeinstallprompt",function(t){e.deferredPrompt=t,t.preventDefault()})}},{key:"isPromptAllowed",value:function(){return!!this.deferredPrompt}},{key:"showPrompt",value:function(){return this.isPromptAllowed()?(this.deferredPrompt.prompt(),this.deferredPrompt.userChoice):Promise.reject(null)}}]),e}(),Je=new qe,Ve=Je,He=(r("34ef"),r("a481"),r("14b9"),function(e){for(var t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(r),a=new Uint8Array(n.length),i=0;i<n.length;++i)a[i]=n.charCodeAt(i);return a}),Ke=He(C.WebPushVapidPublicKey),Xe=function(){function e(){Object(E["a"])(this,e),this.convertedVapidKey=Ke,this.subscriptionsApi=new L("/subscriptions")}return Object(R["a"])(e,[{key:"createSubscription",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Creating subscription"),e.next=4,navigator.serviceWorker.ready;case 4:return t=e.sent,console.log("Registration",t),e.next=8,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ke});case 8:return r=e.sent,console.log("RegistrationInfo",r),e.next=12,this.subscriptionsApi.post(r);case 12:return n=e.sent,console.log("Registration repo",n),e.abrupt("return",n);case 17:e.prev=17,e.t0=e["catch"](0),console.log("[Subscription] ",e.t0);case 20:case"end":return e.stop()}},e,this,[[0,17]])}));return function(){return e.apply(this,arguments)}}()}]),e}(),Qe=new Xe,Ze=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-list",{attrs:{"two-line":"",subheader:""}},[r("v-subheader",[e._v(e._s(e.timeEntriesDate))]),e._l(e.timeEntries,function(t,n){return[r("TimerListItem",{key:t.id,attrs:{timeEntry:t}}),n+1<e.timeEntries.length?r("v-divider",{key:n}):e._e()]})],2)},et=[],tt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("router-link",{attrs:{to:{name:"TimerItem",params:{id:e.timeEntry.id}}}},[r("v-list-tile",{key:e.timeEntry.description,attrs:{route:"",avatar:"",ripple:""}},[r("v-list-tile-content",{ref:"timeEntryContent"},[r("v-list-tile-title",[e._v(e._s(e.timeEntry.description))]),r("v-list-tile-sub-title",{staticClass:"text--primary"},[e._v(e._s(e.timeEntry.projectName))])],1),r("v-list-tile-action",[r("v-list-tile-action-text",{staticClass:"font-weight-bold"},[e._v(e._s(e.timeEntry.getDurationText())+" ")]),r("v-btn",{attrs:{color:"teal",outline:"",fab:"",small:"",dark:""}},[r("v-icon",[e._v(" play_arrow ")])],1)],1)],1)],1)},rt=[],nt=(r("c8b5"),{props:["timeEntry"],data:function(){return{swipeManager:null}},mounted:function(){this.initTimeEntrySwipe()},methods:{initTimeEntrySwipe:function(){var e=this.$refs.timeEntryContent;this.swipeManager=new Hammer.Manager(this.$el);var t=new Hammer.Swipe;this.swipeManager.add(t);var r=0,n="translate3d(0px, 0, 0)",a="translate3d(150px, 0, 0)";this.swipeManager.on("swipe",function(t){r+=t.deltaX;var i=t.offsetDirection;4!==i&&2!==i||(r>150?(e.style.transform=a,console.log("init delete",r)):setTimeout(function(){e.style.transform=n},100))})}}}),at=nt,it=Object(p["a"])(at,tt,rt,!1,null,null,null);it.options.__file="TimerListItem.vue";var st=it.exports,ot={components:{TimerListItem:st},props:["timeEntriesDate","timeEntries"]},ct=ot,ut=Object(p["a"])(ct,Ze,et,!1,null,null,null);ut.options.__file="TimerListGroup.vue";var lt=ut.exports,pt={components:{TimerListGroup:lt},data:function(){return{selected:[2]}},computed:Object(Fe["a"])({},Object(Ye["c"])({stoppedTimeEntries:"timers/stoppedTimeEntries"}),{timeEntryGroups:function(){var e=this;return this.$_.groupBy(this.stoppedTimeEntries,function(t){var r=e.$moment(t.startedAt).clone().startOf("day").format("ddd, D MMM"),n=e.$moment().startOf("day").format("ddd, D MMM"),a=e.$moment().subtract(1,"day").startOf("day").format("ddd, D MMM");return r==n?"Today":r==a?"Yesterday":e.$moment(t.startedAt).format("ddd, D MMM")})}}),methods:Object(Fe["a"])({},Object(Ye["b"])({fetchTimeEntries:"timers/fetchTimeEntries",fetchProjects:"projects/fetchProjects"}),{requestNotificationPermitions:function(){Notification&&"granted"!==Notification.permission&&Notification.requestPermission().then(function(e){"granted"===e&&Qe.createSubscription()})}}),created:function(){Ve.isPromptAllowed()&&Ve.showPrompt(),this.requestNotificationPermitions(),this.fetchTimeEntries(),this.fetchProjects()}},ft=pt,dt=Object(p["a"])(ft,Be,Ge,!1,null,null,null);dt.options.__file="TimerList.vue";var mt=dt.exports,ht=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h1",[e._v("hi is timer")])},vt=[],bt={},gt=Object(p["a"])(bt,ht,vt,!1,null,null,null);gt.options.__file="TimerItem.vue";var jt=gt.exports,yt={path:"/timer",component:We,name:"timer",children:[{path:"",component:mt,name:"timer-list"},{path:":id",name:"TimerItem",component:jt}]},kt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-toolbar-title",[e._v("Projects")]),r("v-spacer"),r("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),r("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[e._v("New project")]),r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),r("v-card-text",[r("v-container",{attrs:{"grid-list-md":""}},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Name"},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.close(t)}}},[e._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.save(t)}}},[e._v("Save")])],1)],1)],1)],1),r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.projects,search:e.search,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[r("td",[e._v(e._s(t.item.name))]),r("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.status))]),r("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.team))]),r("td",{staticClass:"justify-center layout px-0"},[r("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(r){e.editItem(t.item)}}},[e._v("\n            edit\n          ")]),r("v-icon",{attrs:{small:""},on:{click:function(r){e.deleteItem(t.item)}}},[e._v("\n            delete\n          ")])],1)]}}])})],1),r("v-snackbar",{attrs:{bottom:!0,timeout:3e3},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n    "+e._s(e.snackbarText)+"\n    "),r("v-btn",{attrs:{color:"pink",flat:""},on:{click:function(t){e.snackbar=!1}}},[e._v("\n      Close\n    ")])],1)],1)},wt=[],xt=(r("20d6"),{data:function(){return{dialog:!1,snackbar:!1,snackbarText:"",search:"",headers:[{text:"Name",align:"left",sortable:!0,value:"name"},{text:"Status",value:"status",sortable:!0},{text:"Team",value:"team",sortable:!1},{text:"Actions",sortable:!1}],desserts:[],editedIndex:-1,editedItem:{name:""},defaultItem:{name:""}}},computed:Object(Fe["a"])({},Object(Ye["c"])({projects:"projects/projects"}),{formTitle:function(){return-1===this.editedIndex?"New Project":"Edit Project"}}),created:function(){this.fetchProjects()},methods:Object(Fe["a"])({},Object(Ye["b"])({fetchProjects:"projects/fetchProjects",updateProject:"projects/updateProject",deleteProject:"projects/deleteProject",createProject:"projects/createProject"}),{editItem:function(e){this.editedIndex=this.projects.findIndex(function(t){return e.id==t.id}),this.editedItem=Object(Fe["a"])({},e),this.dialog=!0},deleteItem:function(e){confirm("Are you sure you want to delete this item?")&&this.deleteProject(e.id)},close:function(){this.dialog=!1,this.editedItem=this.defaultItem,this.snackbar=!0},save:function(){this.editedIndex>-1?(this.snackbarText="Project updated",this.updateProject(this.editedItem)):(this.snackbarText="Project created",this.createProject(this.editedItem)),this.close()}})}),_t=xt,Ot=Object(p["a"])(_t,kt,wt,!1,null,null,null);Ot.options.__file="Projects.vue";var Et=Ot.exports,Rt={path:"/projects",component:Et,name:"projects"},St=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("ReportFilter")],1),r("v-divider"),e.reportData?r("v-flex",{attrs:{xs12:""}},[r("ReportData")],1):e._e()],1)},Tt=[],Pt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{lg3:"",md3:"",xs12:"","px-2":""}},[r("v-select",{attrs:{items:e.users,"item-text":"name","item-value":"id",label:"Select",multiple:"",autocomplete:"","max-height":"400",hint:"Pick team","persistent-hint":""},model:{value:e.filter.team,callback:function(t){e.$set(e.filter,"team",t)},expression:"filter.team"}})],1),r("v-flex",{attrs:{lg3:"",md3:"",xs12:"","px-2":""}},[r("v-select",{attrs:{items:e.projects,"item-text":"name","item-value":"id",label:"Select",multiple:"",autocomplete:"","max-height":"400",hint:"Pick project","persistent-hint":""},model:{value:e.filter.projects,callback:function(t){e.$set(e.filter,"projects",t)},expression:"filter.projects"}})],1),r("v-flex",{attrs:{lg3:"",md5:"",xs12:"","px-2":""}},[r("DateRangePicker",{attrs:{dateRange:e.filter.dateRange}})],1),r("v-flex",{attrs:{lg2:""}},[r("v-select",{attrs:{items:e.billableOptions,"item-text":"name","item-value":"value",label:"Select","max-height":"400",hint:"Set billable","persistent-hint":""},model:{value:e.filter.billable,callback:function(t){e.$set(e.filter,"billable",t)},expression:"filter.billable"}})],1),r("v-flex",{attrs:{lg1:"",md1:"",xs12:""}},[r("v-btn",{attrs:{color:"info"},on:{click:function(t){e.fetchSummaryReportWIthFilter(e.filter)}}},[e._v("Apply")])],1)],1)},Dt=[],It=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",[r("v-flex",{attrs:{md6:"",sm6:"",xs12:""}},[r("v-menu",{ref:"startDateMenu",attrs:{"close-on-content-click":!1,"return-value":e.dateRange.start,"nudge-right":40,transition:"scale-transition","min-width":"290px","full-width":"","offset-y":"",lazy:""},on:{"update:returnValue":function(t){e.$set(e.dateRange,"start",t)}},model:{value:e.isStartDateMenuOpened,callback:function(t){e.isStartDateMenuOpened=t},expression:"isStartDateMenuOpened"}},[r("v-text-field",{attrs:{slot:"activator","prepend-icon":"event",label:"Date",readonly:""},slot:"activator",model:{value:e.dateRange.start,callback:function(t){e.$set(e.dateRange,"start",t)},expression:"dateRange.start"}}),r("v-date-picker",{attrs:{"no-title":"",scrollable:""},on:{change:function(t){e.$refs.startDateMenu.save(e.dateRange.start)}},model:{value:e.dateRange.start,callback:function(t){e.$set(e.dateRange,"start",t)},expression:"dateRange.start"}})],1)],1),r("v-flex",{attrs:{md6:"",sm6:"",xs12:""}},[r("v-menu",{ref:"endDateMenu",attrs:{"close-on-content-click":!1,"return-value":e.dateRange.end,"nudge-right":40,transition:"scale-transition","min-width":"290px","full-width":"","offset-y":"",lazy:""},on:{"update:returnValue":function(t){e.$set(e.dateRange,"end",t)}},model:{value:e.isEndDateMenuOpened,callback:function(t){e.isEndDateMenuOpened=t},expression:"isEndDateMenuOpened"}},[r("v-text-field",{attrs:{slot:"activator","prepend-icon":"event",label:"Date",readonly:""},slot:"activator",model:{value:e.dateRange.end,callback:function(t){e.$set(e.dateRange,"end",t)},expression:"dateRange.end"}}),r("v-date-picker",{attrs:{"no-title":"",scrollable:""},on:{change:function(t){e.$refs.endDateMenu.save(e.dateRange.end)}},model:{value:e.dateRange.end,callback:function(t){e.$set(e.dateRange,"end",t)},expression:"dateRange.end"}})],1)],1)],1)},$t=[],Mt={props:["dateRange"],data:function(){return{isStartDateMenuOpened:!0,isEndDateMenuOpened:!0}}},At=Mt,Ct=Object(p["a"])(At,It,$t,!1,null,null,null);Ct.options.__file="DateRangePicker.vue";var Nt=Ct.exports,zt={components:{DateRangePicker:Nt},data:function(){return{billableOptions:[{name:"Billable",value:!0},{name:"Non-billable",value:!1},{name:"Both",value:null}]}},computed:Object(Fe["a"])({},Object(Ye["c"])({users:"reports/users",currentUser:"auth/currentUser",projects:"projects/projects"}),{filter:function(){return this.$_.cloneDeep(this.$store.getters["reports/reportFilter"])}}),created:function(){this.initDefaultFilterParams(),this.fetchSummaryReportWIthFilter(this.filter)},methods:Object(Fe["a"])({},Object(Ye["b"])({fetchSummaryReportWIthFilter:"reports/fetchSummaryReportWIthFilter"}),{initDefaultFilterParams:function(){this.filter.team=[this.currentUser.id],this.filter.dateRange.start=this.$moment().startOf("isoWeek").format("YYYY-MM-DD"),this.filter.dateRange.end=this.$moment().endOf("isoWeek").format("YYYY-MM-DD")}})},Lt=zt,Ut=Object(p["a"])(Lt,Pt,Dt,!1,null,null,null);Ut.options.__file="ReportFilter.vue";var Wt=Ut.exports,Bt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-layout",{attrs:{raw:"",wrap:""}},[r("v-flex",{attrs:{xs3:"","px-2":""}},[r("v-select",{attrs:{items:e.groupOptions,"item-text":"title","item-value":"value",label:"Group by","max-height":"400"},model:{value:e.reportGrouping.groupBy,callback:function(t){e.$set(e.reportGrouping,"groupBy",t)},expression:"reportGrouping.groupBy"}})],1),r("v-flex",{attrs:{xs3:"","px-2":""}},[r("v-select",{attrs:{items:e.subgroupOptions,"item-text":"title","item-value":"value",label:"Subgroup by","max-height":"400"},model:{value:e.reportGrouping.subgroupBy,callback:function(t){e.$set(e.reportGrouping,"subgroupBy",t)},expression:"reportGrouping.subgroupBy"}})],1)],1),r("div",[e._v(e._s(JSON.stringify(e.reportData)))])],1)},Gt=[],Ft={data:function(){return{groupOptions:[{title:"Project",value:"project"},{title:"User",value:"user"}],subgroupOptions:[{title:"Time Entry",value:"time_entry"}]}},computed:Object(Fe["a"])({},Object(Ye["c"])({reportData:"reports/reportData"}),{reportGrouping:function(){return this.$_.cloneDeep(this.$store.getters["reports/reportGrouping"])}})},Yt=Ft,qt=Object(p["a"])(Yt,Bt,Gt,!1,null,null,null);qt.options.__file="ReportData.vue";var Jt=qt.exports,Vt={name:"Reports",components:{ReportFilter:Wt,ReportData:Jt},computed:Object(Fe["a"])({},Object(Ye["c"])({reportData:"reports/reportData"})),methods:Object(Fe["a"])({},Object(Ye["b"])({fetchUsers:"reports/fetchWorkspaceUsers"})),created:function(){this.fetchUsers()}},Ht=Vt,Kt=Object(p["a"])(Ht,St,Tt,!1,null,null,null);Kt.options.__file="Reports.vue";var Xt=Kt.exports,Qt={path:"/reports",component:Xt,name:"reports"};a["default"].use(m["a"]);var Zt,er,tr,rr=new m["a"]({mode:"history",routes:[{path:"*",component:oe,redirect:"timer"},{path:"/",component:j,children:[Ae,ve]},{path:"/apidoc",redirect:function(){window.location.href=C.apiDocUrl}},{path:"/app",name:"app",component:te,beforeEnter:ue,children:[ve,yt,Rt,Qt]}]}),nr=rr,ar=(r("7514"),r("a322")),ir="SET_TIME_ENTRIES",sr="updateTimeEntry",or="DELETE_TIME_ENTRY",cr="ADD_TIME_ENTRY",ur=(r("f751"),r("2ef0")),lr=(r("ac6a"),r("dc0a")),pr=r("d328"),fr=r("11d9"),dr=r("b8d7"),mr=function(e){function t(e,r){var n;return Object(E["a"])(this,t),n=Object(pr["a"])(this,Object(fr["a"])(t).call(this,e)),n.cacheStore=r,n}return Object(R["a"])(t,[{key:"get",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var r,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(dr["a"])(Object(fr["a"])(t.prototype),"get",this).call(this);case 3:return r=e.sent,r.forEach(function(e){e.unsynced=!1,n.cacheStore.write(e)}),e.abrupt("return",r);case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",this.cacheStore.readAllData());case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(dr["a"])(Object(fr["a"])(t.prototype),"post",this).call(this,r);case 2:return n=e.sent,n.unsynced=!1,this.cacheStore.write(n),e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(r,n){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(dr["a"])(Object(fr["a"])(t.prototype),"put",this).call(this,r,n);case 2:return a=e.sent,a.unsynced=!1,this.cacheStore.write(a),e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(dr["a"])(Object(fr["a"])(t.prototype),"delete",this).call(this,r);case 2:return n=e.sent,this.cacheStore.delete(r),e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),Object(lr["a"])(t,e),t}(L),hr=r("c64e"),vr=function(e){function t(e,r,n){var a;return Object(E["a"])(this,t),a=Object(pr["a"])(this,Object(fr["a"])(t).call(this,e,r)),a.resourceSyncTaskName=n.getName(),a.resourceSyncStore=n,a}return Object(R["a"])(t,[{key:"post",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=Object(Fe["a"])({},r,{id:hr()}),!navigator.onLine){e.next=6;break}return e.next=4,Object(dr["a"])(Object(fr["a"])(t.prototype),"post",this).call(this,n);case 4:e.next=11;break;case 6:return n.unsynced=!0,e.next=9,this.cacheStore.write(n);case 9:return e.next=11,this.registerSyncTaskWithOperationsSyncronozation(n,"create");case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(r,n){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=Object(Fe["a"])({},n,{id:r}),!navigator.onLine){e.next=6;break}return e.next=4,Object(dr["a"])(Object(fr["a"])(t.prototype),"put",this).call(this,r,a);case 4:e.next=11;break;case 6:return a.unsynced=!0,e.next=9,this.cacheStore.write(a);case 9:return e.next=11,this.registerSyncTaskWithOperationsSyncronozation(a,"update");case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!navigator.onLine){e.next=5;break}return e.next=3,Object(dr["a"])(Object(fr["a"])(t.prototype),"delete",this).call(this,r);case 3:e.next=9;break;case 5:return e.next=7,this.cacheStore.delete(r);case 7:return e.next=9,this.registerSyncTaskWithOperationsSyncronozation({id:r},"delete");case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"registerSyncTaskWithOperationsSyncronozation",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n={id:t.id,data:t,operationType:null},e.next=3,navigator.serviceWorker.ready;case 3:a=e.sent,e.t0=r,e.next="create"===e.t0?7:"update"===e.t0?12:"delete"===e.t0?20:33;break;case 7:return n.operationType="create",e.next=10,this.resourceSyncStore.write(n);case 10:return a.sync.register(this.resourceSyncTaskName),e.abrupt("break",34);case 12:return e.next=14,this.resourceSyncStore.read(t.id);case 14:return i=e.sent,i&&"create"===i.operationType?n.operationType="create":n.operationType="update",e.next=18,this.resourceSyncStore.write(n);case 18:return a.sync.register(this.resourceSyncTaskName),e.abrupt("break",34);case 20:return e.next=22,this.resourceSyncStore.read(t.id);case 22:if(s=e.sent,!s||"create"!=s.operationType){e.next=28;break}return e.next=26,this.resourceSyncStore.delete(n.id);case 26:e.next=32;break;case 28:return n.operationType="delete",e.next=31,this.resourceSyncStore.write(n);case 31:a.sync.register(this.resourceSyncTaskName);case 32:return e.abrupt("break",34);case 33:return e.abrupt("break",34);case 34:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()}]),Object(lr["a"])(t,e),t}(mr),br="twork-store",gr="time-entries",jr="sync-time-entries",yr=[gr,jr],kr=function(){function e(t){if(Object(E["a"])(this,e),!yr.find(function(e){return e===t}))throw t+" should be added to the initialization list inside TworkIndexedDBStore";this.objectStoreName=t}return Object(R["a"])(e,null,[{key:"initStores",value:function(){return T.a.open(br,1,function(e){yr.forEach(function(t){e.objectStoreNames.contains(t)||e.createObjectStore(t,{keyPath:"id"})})})}}]),Object(R["a"])(e,[{key:"getName",value:function(){return this.objectStoreName}},{key:"write",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T.a.open(br);case 2:return r=e.sent,n=r.transaction(this.objectStoreName,"readwrite"),a=n.objectStore(this.objectStoreName),e.next=7,a.put(t);case 7:return e.abrupt("return",n.complete);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.open(br);case 3:return r=e.sent,n=r.transaction(this.objectStoreName,"readonly"),a=n.objectStore(this.objectStoreName),e.abrupt("return",a.get(t));case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.open(br);case 3:return r=e.sent,n=r.transaction(this.objectStoreName,"readwrite"),a=n.objectStore(this.objectStoreName),a.delete(t),e.abrupt("return",n.complete);case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()},{key:"readAllData",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.init();case 3:return t=e.sent,r=t.transaction(this.objectStoreName,"readonly"),n=r.objectStore(this.objectStoreName),e.abrupt("return",n.getAll());case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(){return e.apply(this,arguments)}}()}]),e}(),wr=kr,xr="/users/me/time_entries",_r=function(){if("indexedDB"in window&&C.isProduction){var e=new wr(gr);if("serviceWorker"in navigator&&"SyncManager"in window){var t=new wr(jr);return new vr(xr,e,t)}return new mr(xr,e)}return new L(xr)}(),Or=_r,Er={fetchTimeEntries:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,Or.get();case 3:n=e.sent,r(ir,n);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),createTimeEntry:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,a=Object.assign(r,{workspaceId:G.getCurrentWorkspaceId()}),e.next=4,Or.post(a);case 4:i=e.sent,n(cr,i);case 6:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),updateTimeEntry:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,Or.put(r.id,r);case 3:a=e.sent,n(sr,a);case 5:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),deleteTimeEntry:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Or.delete(r);case 2:t.commit(or,r);case 3:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},Rr=r("c1df"),Sr=r.n(Rr),Tr=(r("4623"),function(){function e(t){Object(E["a"])(this,e),Object.assign(this,t)}return Object(R["a"])(e,null,[{key:"buildEmpty",value:function(){return new e({startedAt:null,stoppedAt:null,description:"",project:null,billable:!1})}}]),Object(R["a"])(e,[{key:"isStarted",value:function(){return!!this.startedAt}},{key:"isStopped",value:function(){return this.isStarted()&&!!this.stoppedAt}},{key:"startedAtTime",value:function(){return Sr()(this.startedAt).format("hh:mm A")}},{key:"stoppedAtTime",value:function(){return Sr()(this.stoppedAt).format("hh:mm A")}},{key:"unixTimestamp",value:function(){return Sr()(this.stoppedAt).format("X")}},{key:"date",value:function(){return Sr()(this.stoppedAt).format("YYYY-MM-DD")}},{key:"duration",value:function(){return Sr.a.duration(Sr()(this.stoppedAt)-Sr()(this.startedAt))}},{key:"getDurationText",value:function(){return this.duration().format("hh:mm:ss",{trim:!1})}}]),e}()),Pr={timeEntries:null,emptyTimeEntry:Tr.buildEmpty()},Dr=(Zt={},Object(ar["a"])(Zt,ir,function(e,t){e.timeEntries=t}),Object(ar["a"])(Zt,cr,function(e,t){e.timeEntries.unshift(t)}),Object(ar["a"])(Zt,sr,function(e,t){var r=ur["findIndex"](e.timeEntries,{id:t.id});e.timeEntries.splice(r,1,t)}),Object(ar["a"])(Zt,or,function(e,t){var r=ur["findIndex"](e.timeEntries,{id:t});e.timeEntries.splice(r,1)}),Zt),Ir={timeEntries:function(){return null==Pr.timeEntries?null:ur["map"](Pr.timeEntries,function(e){return new Tr(e)})},stoppedTimeEntries:function(e){return ur["map"](ur["orderBy"](ur["filter"](e.timeEntries,function(e){return e.stoppedAt}),function(e){return new Date(e.startedAt)},"desc"),function(e){return new Tr(e)})},activeTimeEntry:function(e){var t=ur["find"](e.timeEntries,function(e){return!e.stoppedAt});return t&&new Tr(t)||e.emptyTimeEntry}},$r={namespaced:!0,state:Pr,mutations:Dr,actions:Er,getters:Ir},Mr="UPDATE",Ar="DELETE",Cr="SET_PROJECTS",Nr="ADD",zr=new L("/users/me/projects"),Lr={fetchProjects:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,zr.get();case 2:r=e.sent,t.commit(Cr,r);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),deleteProject:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,zr.delete(r,{workspaceId:G.getCurrentWorkspaceId()});case 2:n=e.sent,t.commit(Ar,n.id);case 4:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),createProject:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(Fe["a"])({},r,{workspaceId:G.getCurrentWorkspaceId()}),e.next=3,zr.post(n);case 3:a=e.sent,t.commit(Nr,a);case 5:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),updateProject:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,zr.put(r.id,r);case 2:n=e.sent,t.commit(Mr,n);case 4:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},Ur=(r("7f7f"),function(){function e(t){Object(E["a"])(this,e),this.name=t.name,this.workspaceId=t.workspaceId,this.id=t.id}return Object(R["a"])(e,null,[{key:"buildEmpty",value:function(){return new e({name:"",workspace:""})}}]),Object(R["a"])(e,[{key:"clone",value:function(){return new this.constructor(this)}}]),e}()),Wr={projects:[]},Br=(er={},Object(ar["a"])(er,Cr,function(e,t){e.projects=t}),Object(ar["a"])(er,Ar,function(e,t){var r=ur["findIndex"](e.projects,{id:t});e.projects.splice(r,1)}),Object(ar["a"])(er,Nr,function(e,t){e.projects.unshift(new Ur(t))}),Object(ar["a"])(er,Mr,function(e,t){var r=ur["findIndex"](e.projects,{id:t.id});e.projects.splice(r,1,t)}),er),Gr={projects:function(e){return ur["map"](e.projects,function(e){return new Ur(e)})}},Fr={namespaced:!0,state:Wr,mutations:Br,actions:Lr,getters:Gr},Yr="SET_USERS",qr="SET_FILTER",Jr="SET_REPORT_DATA",Vr="/workspaces",Hr="/reports",Kr={users:[],reportFilter:{team:[],projects:[],billable:null,dateRange:{start:null,end:null}},reportGrouping:{groupBy:null,subgroupBy:null},reportData:null},Xr=(tr={},Object(ar["a"])(tr,Yr,function(e,t){e.users=t}),Object(ar["a"])(tr,qr,function(e,t){e.reportFilter=t}),Object(ar["a"])(tr,Jr,function(e,t){e.reportData=t}),tr),Qr={users:function(e){return e.users},reportFilter:function(e){return e.reportFilter},reportGrouping:function(e){return e.reportGrouping},reportData:function(e){return e.reportData}},Zr={fetchWorkspaceUsers:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,n,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,t.state,n=t.rootGetters,i=n["auth/currentWorkspaceId"],e.next=4,a["default"].axios.get("".concat(Vr,"/").concat(i,"/users"));case 4:s=e.sent,r(Yr,s.data);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),fetchSummaryReportWIthFilter:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){var n,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n(qr,r),i=Object.assign(r,{start:r.dateRange.start,end:r.dateRange.end}),e.next=5,a["default"].axios.get("".concat(Hr,"/summary"),{params:i});case 5:s=e.sent,n(Jr,s.data);case 7:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},en={namespaced:!0,state:Kr,mutations:Xr,actions:Zr,getters:Qr};a["default"].use(Ye["a"]);var tn=new Ye["a"].Store({modules:{timers:$r,projects:Fr,reports:en},strict:!0}),rn=r("9483");Object(rn["a"])("/service-worker.js",{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var nn=r("219c"),an=(r("bf40"),{store:tn,install:function(e){e.prototype.$store=tn}}),sn={lodash:ur,install:function(e){e.prototype.$_=ur}},on={moment:Sr.a,install:function(e){e.prototype.$moment=Sr.a}},cn="ontouchstart"in window||navigator.msMaxTouchPoints>0,un={instances:[],events:cn?["touchstart","click"]:["click"],onEvent:function(e){un.instances.forEach(function(t){var r=t.el,n=t.fn;e.target===r||r.contains(e.target)||n&&n(e)})},bind:function(e,t){un.instances.push({el:e,fn:t.value}),1===un.instances.length&&un.events.forEach(function(e){return document.addEventListener(e,un.onEvent)})},update:function(e,t){if("function"!==typeof t.value)throw new Error("Argument must be a function");var r=un.instances.find(function(t){return t.el===e});r.fn=t.value},unbind:function(e){var t=un.instances.findIndex(function(t){return t.el===e});t>=0&&un.instances.splice(t,1),0===un.instances.length&&un.events.forEach(function(e){return document.removeEventListener(e,un.onEvent)})}},ln="undefined"!==typeof window?un:{};a["default"].use(s.a),a["default"].use(on),a["default"].use(sn),a["default"].use(an),a["default"].use(nn),a["default"].directive("click-outside",ln),a["default"].config.productionTip=!1;var pn=function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(Ve.initBeforeInstallPromptListener(),!("indexedDB"in window)){e.next=4;break}return e.next=4,wr.initStores();case 4:return e.abrupt("return",!0);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();new a["default"]({router:nr,store:tn,render:function(e){return e(d)},created:pn}).$mount("#app")},a5d2:function(e,t,r){"use strict";var n=r("2a44"),a=r.n(n);a.a}});
//# sourceMappingURL=app.e74018c4.js.map