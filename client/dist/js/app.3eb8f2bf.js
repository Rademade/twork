(function(t){function e(e){for(var r,s,o=e[0],c=e[1],u=e[2],d=0,p=[];d<o.length;d++)s=o[d],i[s]&&p.push(i[s][0]),i[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(p.length)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(r=!1)}r&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},i={app:0},a=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0895":function(t,e,n){t.exports=n.p+"img/google.9dec7673.svg"},1537:function(t,e,n){"use strict";var r=n("29b8"),i=n.n(r);i.a},"29b8":function(t,e,n){},"2a44":function(t,e,n){},"3e30":function(t,e,n){},4678:function(t,e,n){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=a(t);return n(e)}function a(t){var e=r[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}i.keys=function(){return Object.keys(r)},i.resolve=a,t.exports=i,i.id="4678"},"523a":function(t,e,n){"use strict";var r=n("3e30"),i=n.n(r);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("96cf");var r=n("3040"),i=(n("cadf"),n("551c"),n("097d"),n("2b0e")),a=n("ce5b"),s=n.n(a),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"app"}},[n("router-view")],1)},c=[],u={},l=u,d=(n("a5d2"),n("2877")),p=Object(d["a"])(l,o,c,!1,null,null,null);p.options.__file="App.vue";var m=p.exports,f=n("8c4f"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("router-view",{staticClass:"main"})],1)},v=[],b={},g=Object(d["a"])(b,h,v,!1,null,null,null);g.options.__file="Layout.vue";var j=g.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"inspire"}},[n("NavigationDrawer"),n("v-content",[n("v-container",{attrs:{fluid:"","fill-height":""}},[n("router-view")],1)],1),n("v-footer",{attrs:{app:"",fixed:""}},[n("span",[t._v("Â© 2017")])])],1)},k=[],x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-navigation-drawer",{attrs:{"mini-variant":t.isMini,clipped:"",fixed:"",app:"",width:140},on:{"update:miniVariant":function(e){t.isMini=e}},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-list",{attrs:{dense:""}},t._l(t.navigation,function(e){return n("v-list-tile",{key:e.title,on:{click:function(n){t.$router.push({name:e.route})}}},[n("v-list-tile-action",[n("v-icon",[t._v(t._s(e.ico))])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v(t._s(e.title))])],1)],1)}))],1),n("v-toolbar",{attrs:{app:"",fixed:"","clipped-left":""}},[n("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),n("v-toolbar-title",[t._v("Twork")]),n("v-spacer"),n("v-toolbar-items",[n("v-btn",{attrs:{flat:""}},[n("Profile")],1)],1)],1)],1)},w=[],_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-xs-center"},[n("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":"","offset-x":""},model:{value:t.isProfileMenuOpened,callback:function(e){t.isProfileMenuOpened=e},expression:"isProfileMenuOpened"}},[n("v-avatar",{attrs:{slot:"activator",tile:!1,size:30,color:"grey lighten-4"},slot:"activator"},[n("img",{attrs:{src:t.user.imgUrl||"https://placehold.it/50x50",alt:t.user.name}})]),n("v-card",[n("v-list",[n("v-list-tile",{attrs:{avatar:""}},[n("v-list-tile-avatar",[n("img",{attrs:{src:t.user.imgUrl||"https://placehold.it/50x50",alt:t.user.name}})]),n("v-list-tile-content",[n("v-list-tile-title",[t._v(t._s(t.user.name))])],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.logout()}}},[t._v("Logout")])],1)],1)],1)],1)},O=[],T=n("c665"),E=n("aa9a"),S=n("ea05"),R=n.n(S),A="keyval-store",D="keyval",P=R.a.open(A,1,function(t){t.objectStoreNames.contains(D)||t.createObjectStore(D)}),C=function(){function t(){Object(T["a"])(this,t)}return Object(E["a"])(t,[{key:"get",value:function(t){return P.then(function(e){return e.transaction(D).objectStore(D).get(t)})}},{key:"set",value:function(t,e){return P.then(function(n){var r=n.transaction(D,"readwrite");return r.objectStore(D).put(e,t),r.complete})}},{key:"delete",value:function(t){return P.then(function(e){var n=e.transaction(D,"readwrite");return n.objectStore(D).delete(t),n.complete})}},{key:"clear",value:function(){return P.then(function(t){var e=t.transaction(D,"readwrite");return e.objectStore(D).clear(),e.complete})}},{key:"keys",value:function(){return P.then(function(t){var e=t.transaction(D),n=[],r=e.objectStore(D);return(r.iterateKeyCursor||r.iterateCursor).call(r,function(t){t&&(n.push(t.key),t.continue())}),e.complete.then(function(){return n})})}}]),t}(),I=new C,M=I,$={apiPrefix:"/api/v1",googleAuthProviderLink:"/api/v1/auth/google",isProduction:!0,WebPushVapidPublicKey:"BC-2UVu0tn7q06TbBdBGB2QqPWmU0sZLJOQL_PmIpyfJ9PR6Lyycg2bfiivBiD_V9zrrZvX-PdgJW7aYA_WlLCg"},B=n("2e94"),N=n.n(B),L=function(){function t(e){Object(T["a"])(this,t),this.resourceName=e,this.basePath=$.apiPrefix+e}return Object(E["a"])(t,[{key:"get",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.requestHeaders();case 3:return e=t.sent,t.next=6,N()(this.basePath,{headers:e});case 6:return n=t.sent,t.next=9,n.json();case 9:return t.abrupt("return",t.sent);case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0);case 15:case"end":return t.stop()}},t,this,[[0,12]])}));return function(){return t.apply(this,arguments)}}()},{key:"post",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,n,r,i,a=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:{},t.prev=1,t.next=4,this.requestHeaders();case 4:return n=t.sent,t.next=7,N()(this.basePath,{method:"POST",body:JSON.stringify(e),headers:n});case 7:return r=t.sent,t.next=10,r.json();case 10:return i=t.sent,t.abrupt("return",i);case 14:t.prev=14,t.t0=t["catch"](1),console.log(t.t0);case 17:case"end":return t.stop()}},t,this,[[1,14]])}));return function(){return t.apply(this,arguments)}}()},{key:"put",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var n,r,i,a,s=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},t.prev=1,t.next=4,this.requestHeaders();case 4:return r=t.sent,t.next=7,N()(this.basePath+"/"+e,{method:"PUT",body:JSON.stringify(n),headers:r});case 7:return i=t.sent,t.next=10,i.json();case 10:return a=t.sent,t.abrupt("return",a);case 14:t.prev=14,t.t0=t["catch"](1),console.log(t.t0);case 17:case"end":return t.stop()}},t,this,[[1,14]])}));return function(e){return t.apply(this,arguments)}}()},{key:"delete",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var n,r,i,a,s=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},t.prev=1,t.next=4,this.requestHeaders();case 4:return r=t.sent,t.next=7,N()(this.basePath+"/"+e,{method:"DELETE",body:JSON.stringify(n),headers:r});case 7:return i=t.sent,t.next=10,i.json();case 10:return a=t.sent,t.abrupt("return",a);case 14:t.prev=14,t.t0=t["catch"](1),console.log(t.t0);case 17:case"end":return t.stop()}},t,this,[[1,14]])}));return function(e){return t.apply(this,arguments)}}()},{key:"requestHeaders",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,M.get("auth-token");case 2:return e=t.sent,t.abrupt("return",{Authorization:"JWT ".concat(e),"Content-Type":"application/json"});case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),t}(),z="auth-token",U=function(){function t(){Object(T["a"])(this,t),this.currentUser=null,this.currentWorkspaceId=null,this.userApiService=new L("/users/me")}return Object(E["a"])(t,[{key:"login",value:function(){return this.fetchUser()}},{key:"logout",value:function(){return this.currentUser=null,M.delete(z)}},{key:"fetchUser",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getToken();case 2:if(e=t.sent,!e){t.next=10;break}return t.next=6,this.userApiService.get();case 6:n=t.sent,this.setUser(n),t.next=11;break;case 10:throw"User is not authentificated";case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"setUser",value:function(t){this.currentUser=t}},{key:"getCurrentWorkspaceId",value:function(){return this.currentUser.workspaces[0].id}},{key:"setToken",value:function(t){return M.set(z,t)}},{key:"getToken",value:function(){return M.get(z)}}]),t}(),W=new U,Y=W,F={name:"Profile",data:function(){return{isProfileMenuOpened:!1,user:Y.currentUser}},methods:{logout:function(){var t=this;Y.logout().then(function(){return t.$router.push({name:"home"})})}}},G=F,V=Object(d["a"])(G,_,O,!1,null,null,null);V.options.__file="Profile.vue";var q=V.exports,H={components:{Profile:q},data:function(){return{isMini:!1,drawer:!0,navigation:[{title:"Timer",ico:"alarm",route:"timer-list"},{title:"Projects",ico:"work",route:"projects"},{title:"Reports",ico:"assessment",route:"reports"}]}},mounted:function(){this.onResize(),window.addEventListener("resize",this.onResize,{passive:!0})},beforeDestroy:function(){"undefined"!==typeof window&&window.removeEventListener("resize",this.onResize,{passive:!0})},methods:{onResize:function(){this.isMini=window.innerWidth<600}}},J=H,K=Object(d["a"])(J,x,w,!1,null,null,null);K.options.__file="NavigationDrawer.vue";var X=K.exports,Q={components:{NavigationDrawer:X}},Z=Q,tt=Object(d["a"])(Z,y,k,!1,null,null,null);tt.options.__file="AppLayout.vue";var et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",[t._v("Not Found 404")]),n("router-link",{attrs:{to:{name:"root"}}},[t._v("Go to index")])],1)},rt=[],it={},at=it,st=Object(d["a"])(at,nt,rt,!1,null,null,null);st.options.__file="NotFound.vue";var ot=st.exports,ct=function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n,r){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("Auth checked!"),t.prev=1,!Y.currentUser){t.next=6;break}return t.abrupt("return",r());case 6:return t.next=8,Y.getToken();case 8:if(i=t.sent,!i){t.next=15;break}return t.next=12,Y.fetchUser();case 12:return t.abrupt("return",r());case 15:return t.abrupt("return",r("/sign/in"));case 16:t.next=22;break;case 18:return t.prev=18,t.t0=t["catch"](1),console.log(t.t0),t.abrupt("return",r("/sign/in"));case 22:case"end":return t.stop()}},t,this,[[1,18]])}));return function(e,n,r){return t.apply(this,arguments)}}(),ut=ct,lt=function(){function t(){Object(T["a"])(this,t)}return Object(E["a"])(t,[{key:"isMobile",value:function(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)}}]),t}(),dt=new lt,pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sign"},[t._m(0),n("div",{staticClass:"sign__content"},[n("p",{staticClass:"sign__title"},[t._v("Be more effective today!")]),n("div",{staticClass:"sign__form"},[t.isUserLoggedIn?t._e():n("router-link",{staticClass:"sign__button sign__button--icon",attrs:{to:"signin"}},[n("svg",{staticClass:"sign__icon"},[n("use",{attrs:{"xlink:href":"#google"}})]),t._v("\n        Login with google\n      ")]),t.isUserLoggedIn?n("router-link",{staticClass:"sign__button",attrs:{to:"timer"}},[t._v("Go to timer")]):t._e()],1)])])},mt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"sign-header"},[n("span",{staticClass:"sign-header__logo"},[t._v("TWork")])])}],ft={name:"Home",data:function(){return{isUserLoggedIn:!!Y.currentUser}}},ht=ft,vt=(n("1537"),Object(d["a"])(ht,pt,mt,!1,null,"897d8e6e",null));vt.options.__file="Index.vue";var bt=vt.exports,gt={path:"/",component:bt,name:"home"},jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("router-view")],1)},yt=[],kt={name:"Sign"},xt=kt,wt=Object(d["a"])(xt,jt,yt,!1,null,null,null);wt.options.__file="Sign.vue";var _t=wt.exports,Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sign"},[n("div",{staticClass:"sign"},[t._m(0),n("div",{staticClass:"sign__content"},[n("p",{staticClass:"sign__title"},[t._v("You are almost there!")]),n("div",{staticClass:"sign__form"},[n("a",{staticClass:"sign__button sign__button--icon",attrs:{href:t.googleAuthProviderLink}},[n("svg",{staticClass:"sign__icon"},[n("use",{attrs:{"xlink:href":"#google"}})]),t._v("\n          Authorize with Google\n        ")])])])])])},Tt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"sign-header"},[n("span",{staticClass:"sign-header__logo"},[t._v("TWork")])])}],Et=(n("0895"),{name:"SignIn",data:function(){return{googleAuthProviderLink:$.googleAuthProviderLink}}}),St=Et,Rt=(n("523a"),Object(d["a"])(St,Ot,Tt,!1,null,"4c0a5d80",null));Rt.options.__file="SignIn.vue";var At=Rt.exports,Dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("Succeess")])},Pt=[],Ct={mounted:function(){var t=this,e=this.$route.query.token;console.log(Y),Y.setToken(e).then(function(){Y.fetchUser().then(function(){return t.$router.push({name:"timer"})})})}},It=Ct,Mt=Object(d["a"])(It,Dt,Pt,!1,null,null,null);Mt.options.__file="SignInSuccess.vue";var $t=Mt.exports,Bt={path:"/sign",component:_t,redirect:{name:"signIn"},children:[{path:"in",name:"signin",component:At},{path:"success",name:"success",component:$t}]},Nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:""}},[n("router-view")],1)},Lt=[],zt={},Ut=zt,Wt=Object(d["a"])(Ut,Nt,Lt,!1,null,null,null);Wt.options.__file="TimerLayout.vue";var Yt=Wt.exports,Ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[n("v-card",[t._l(t.timeEntryGroups,function(t,e){return n("div",{key:e},[n("TimerListGroup",{attrs:{"two-line":"",subheader:"",timeEntriesDate:e,timeEntries:t}}),n("v-divider")],1)}),n("v-btn",{attrs:{color:"pink",dark:"",fixed:"",bottom:"",right:"",fab:""}},[n("v-icon",[t._v("add")])],1)],2)],1)},Gt=[],Vt=n("c93e"),qt=n("2f62"),Ht=function(){function t(){Object(T["a"])(this,t),this.deferredPrompt=null}return Object(E["a"])(t,[{key:"initBeforeInstallPromptListener",value:function(){var t=this;console.log("Lister to beforeInstallPrompt"),window.addEventListener("beforeinstallprompt",function(e){t.deferredPrompt=e,e.preventDefault()})}},{key:"isPromptAllowed",value:function(){return!!this.deferredPrompt}},{key:"showPrompt",value:function(){return this.isPromptAllowed()?(this.deferredPrompt.prompt(),this.deferredPrompt.userChoice):Promise.reject(null)}}]),t}(),Jt=new Ht,Kt=Jt,Xt=(n("34ef"),n("a481"),n("14b9"),function(t){for(var e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/-/g,"+").replace(/_/g,"/"),r=window.atob(n),i=new Uint8Array(r.length),a=0;a<r.length;++a)i[a]=r.charCodeAt(a);return i}),Qt=Xt($.WebPushVapidPublicKey),Zt=function(){function t(){Object(T["a"])(this,t),this.convertedVapidKey=Qt,this.subscriptionsApi=new L("/subscriptions")}return Object(E["a"])(t,[{key:"createSubscription",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,console.log("Creating subscription"),t.next=4,navigator.serviceWorker.ready;case 4:return e=t.sent,console.log("Registration",e),t.next=8,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Qt});case 8:return n=t.sent,console.log("RegistrationInfo",n),t.next=12,this.subscriptionsApi.post(n);case 12:return r=t.sent,console.log("Registration repo",r),t.abrupt("return",r);case 17:t.prev=17,t.t0=t["catch"](0),console.log("[Subscription] ",t.t0);case 20:case"end":return t.stop()}},t,this,[[0,17]])}));return function(){return t.apply(this,arguments)}}()}]),t}(),te=new Zt,ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list",{attrs:{"two-line":"",subheader:""}},[n("v-subheader",[t._v(t._s(t.timeEntriesDate))]),t._l(t.timeEntries,function(e,r){return[n("TimerListItem",{key:e.id,attrs:{timeEntry:e}}),r+1<t.timeEntries.length?n("v-divider",{key:r}):t._e()]})],2)},ne=[],re=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{attrs:{to:{name:"TimerItem",params:{id:t.timeEntry.id}}}},[n("v-list-tile",{key:t.timeEntry.description,attrs:{route:"",avatar:"",ripple:""}},[n("v-list-tile-content",{ref:"timeEntryContent"},[n("v-list-tile-title",[t._v(t._s(t.timeEntry.description))]),n("v-list-tile-sub-title",{staticClass:"text--primary"},[t._v(t._s(t.timeEntry.projectName))])],1),n("v-list-tile-action",[n("v-list-tile-action-text",{staticClass:"font-weight-bold"},[t._v(t._s(t.timeEntry.getDurationText())+" ")]),n("v-btn",{attrs:{color:"teal",outline:"",fab:"",small:"",dark:""}},[n("v-icon",[t._v(" play_arrow ")])],1)],1)],1)],1)},ie=[],ae=(n("c8b5"),{props:["timeEntry"],data:function(){return{swipeManager:null}},mounted:function(){this.initTimeEntrySwipe()},methods:{initTimeEntrySwipe:function(){var t=this.$refs.timeEntryContent;this.swipeManager=new Hammer.Manager(this.$el);var e=new Hammer.Swipe;this.swipeManager.add(e);var n=0,r="translate3d(0px, 0, 0)",i="translate3d(150px, 0, 0)";this.swipeManager.on("swipe",function(e){n+=e.deltaX;var a=e.offsetDirection;4!==a&&2!==a||(n>150?(t.style.transform=i,console.log("init delete",n)):setTimeout(function(){t.style.transform=r},100))})}}}),se=ae,oe=Object(d["a"])(se,re,ie,!1,null,null,null);oe.options.__file="TimerListItem.vue";var ce=oe.exports,ue={components:{TimerListItem:ce},props:["timeEntriesDate","timeEntries"]},le=ue,de=Object(d["a"])(le,ee,ne,!1,null,null,null);de.options.__file="TimerListGroup.vue";var pe=de.exports,me={components:{TimerListGroup:pe},data:function(){return{selected:[2]}},computed:Object(Vt["a"])({},Object(qt["c"])({stoppedTimeEntries:"timers/stoppedTimeEntries"}),{timeEntryGroups:function(){var t=this;return this.$_.groupBy(this.stoppedTimeEntries,function(e){var n=t.$moment(e.startedAt).clone().startOf("day").format("ddd, D MMM"),r=t.$moment().startOf("day").format("ddd, D MMM"),i=t.$moment().subtract(1,"day").startOf("day").format("ddd, D MMM");return n==r?"Today":n==i?"Yesterday":t.$moment(e.startedAt).format("ddd, D MMM")})}}),methods:Object(Vt["a"])({},Object(qt["b"])({fetchTimeEntries:"timers/fetchTimeEntries",fetchProjects:"projects/fetchProjects"}),{requestNotificationPermitions:function(){Notification&&"granted"!==Notification.permission&&Notification.requestPermission().then(function(t){"granted"===t&&te.createSubscription()})}}),created:function(){Kt.isPromptAllowed()&&Kt.showPrompt(),this.requestNotificationPermitions(),this.fetchTimeEntries(),this.fetchProjects()}},fe=me,he=Object(d["a"])(fe,Ft,Gt,!1,null,null,null);he.options.__file="TimerList.vue";var ve=he.exports,be=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",[t._v("hi is timer")])},ge=[],je={},ye=Object(d["a"])(je,be,ge,!1,null,null,null);ye.options.__file="TimerItem.vue";var ke=ye.exports,xe={path:"/timer",component:Yt,name:"timer",children:[{path:"",component:ve,name:"timer-list"},{path:":id",name:"TimerItem",component:ke}]},we=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{lg12:"","pa-1":""}},[n("TrackingBar")],1),n("v-flex",{attrs:{lg12:"","pa-1":""}},[n("TimerList")],1)],1)},_e=[],Oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"timer-box"},t._l(t.timeEntryGroups,function(e,r,i){return n("ul",{key:i,staticClass:"timer-list"},[n("li",{staticClass:"timer-list__day-sum"},[n("span",{staticClass:"timer-list__day"},[t._v(t._s(r))]),n("span",{staticClass:"timer-list__sum"},[t._v("\n        "+t._s(t.totalGroupSpended(e))+"\n      ")])]),t._l(e,function(t){return n("TimerItem",{key:t.id,attrs:{"time-entry":t}})})],2)}))},Te=[],Ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"",wrap:"","pa-2":""}},[n("v-flex",{attrs:{xs1:""}},[t.timeEntry.unsynced?n("v-btn",{attrs:{flat:"",icon:"",color:"pink"}},[n("v-icon",[t._v("cached")])],1):t._e()],1),n("v-flex",{attrs:{lg6:""}},[n("TimerItemDescription",{attrs:{initialDescription:t.timeEntry.description},on:{descriptionChanged:t.onDescriptionChanged}})],1),n("v-flex",{attrs:{lg2:"","px-2":""}},[n("TimerProjectSelect",{attrs:{initialProject:t.timeEntry.projectId},on:{projectChanged:t.onProjectChanged}})],1),n("v-flex",{attrs:{lg3:"","pt-2":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{"lg-2":""}},[n("BillableButton",{attrs:{initialBillableState:t.timeEntry.billable},on:{billableChanged:t.onBillableStateChanged}})],1),n("v-flex",{attrs:{lg6:"","pt-3":""}},[n("DateTimeRangePicker",{attrs:{startedAt:t.timeEntry.startedAt,endedAt:t.timeEntry.stoppedAt},on:{rangeChanged:t.onTimeRangeChanged}},[n("span",{staticClass:"timer-list__task-period",attrs:{slot:"activator"},slot:"activator"},[t._v("\n            "+t._s(t.timeEntryPeriod)+"\n          ")])])],1),n("v-flex",{attrs:{lg2:"","pt-3":""}},[n("span",{staticClass:"timer-list__task-sum"},[t._v(" "+t._s(t.timeEntry.duration().format("hh:mm:ss",{trim:!1}))+" ")])]),n("v-flex",{attrs:{lg1:""}},[n("v-btn",{attrs:{flat:"",icon:"",color:"teal"}},[n("v-icon",[t._v("play_arrow")])],1)],1),n("v-flex",{attrs:{lg1:""}},[n("v-btn",{attrs:{flat:"",icon:"",color:"grey"},on:{click:function(e){t.destroy(t.timeEntry.id)}}},[n("v-icon",[t._v("delete")])],1)],1)],1)],1)],1)},Se=[],Re=n("c1df"),Ae=n.n(Re),De=(n("4623"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{on:{submit:function(e){return e.preventDefault(),t.submitDescriptionChange(e)},keydown:function(e){return"button"in e||!t._k(e.keyCode,"esc",27,e.key,"Escape")?t.rollbackDescriptionChange(e):null}}},[n("v-text-field",{ref:"descInput",attrs:{type:"text",placeholder:"No description"},on:{blur:function(e){t.rollbackDescriptionChange(e)}},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)}),Pe=[],Ce={name:"TimerItemDescription",props:["initialDescription"],data:function(){return{description:this.initialDescription}},methods:{submitDescriptionChange:function(){this.$emit("descriptionChanged",this.description)},rollbackDescriptionChange:function(t){this.description=this.initialDescription,this.$refs.descInput.blur()}}},Ie=Ce,Me=Object(d["a"])(Ie,De,Pe,!1,null,null,null);Me.options.__file="TimerItemDescription.vue";var $e=Me.exports,Be=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"timer-project-select"},[n("v-layout",{attrs:{"timer-project-select__content":""}},[n("v-flex",{attrs:{"timer-project-select__input":""}},[n("v-autocomplete",{attrs:{items:t.projects,"item-text":"name","item-value":"id",auto:"",clearable:!0,placeholder:"No project"},on:{input:t.emmitProjectChanged},model:{value:t.project,callback:function(e){t.project=e},expression:"project"}})],1)],1)],1)},Ne=[],Le=(n("c5f6"),{name:"TimerProjectSelect",props:{initialProject:{type:Number}},data:function(){return{project:this.initialProject}},computed:Object(Vt["a"])({},Object(qt["c"])({projects:"projects/projects"})),methods:{emmitProjectChanged:function(){this.$emit("projectChanged",this.project)}}}),ze=Le,Ue=Object(d["a"])(ze,Be,Ne,!1,null,null,null);Ue.options.__file="TimerProjectSelect.vue";var We=Ue.exports,Ye=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.billableState?n("v-btn",{attrs:{flat:"",icon:"",color:"teal"},on:{click:function(e){t.unbill()}}},[n("v-icon",[t._v("attach_money")])],1):t._e(),t.billableState?t._e():n("v-btn",{attrs:{flat:"",icon:"",color:"grey"},on:{click:function(e){t.bill()}}},[n("v-icon",[t._v("money_off")])],1)],1)},Fe=[],Ge={props:{initialBillableState:Boolean},name:"BillableButton",data:function(){return{billableState:this.initialBillableState}},watch:{initialBillableState:function(){this.billableState=this.initialBillableState}},methods:{bill:function(){this.billableState=!0,this.$emit("billableChanged",this.billableState)},unbill:function(){this.billableState=!1,this.$emit("billableChanged",this.billableState)}}},Ve=Ge,qe=Object(d["a"])(Ve,Ye,Fe,!1,null,null,null);qe.options.__file="BillableButton.vue";var He=qe.exports,Je=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-menu",{attrs:{"close-on-content-click":!1,"full-width":"","offset-y":"",lazy:""},model:{value:t.isTimeMenuOpened,callback:function(e){t.isTimeMenuOpened=e},expression:"isTimeMenuOpened"}},[n("div",{attrs:{slot:"activator"},slot:"activator"},[t._t("activator")],2),n("div",{staticClass:"timer-list__task-time-edit-menu",on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault(),t.closeTimeMenu()}}},[n("v-layout",{attrs:{row:"","justify-space-between":""}},[n("v-flex",{attrs:{xs12:"",sm4:""}},[n("v-text-field",{attrs:{rules:t.timeValidationRules,error:!t.isTimeValid(),label:"start",type:"time",step:"1"},model:{value:t.startedAtTime,callback:function(e){t.startedAtTime=e},expression:"startedAtTime"}})],1),n("v-flex",{attrs:{xs12:"",sm4:""}},[n("v-text-field",{attrs:{rules:t.timeValidationRules,error:!t.isTimeValid(),label:"End",type:"time",step:"1"},model:{value:t.endedAtTime,callback:function(e){t.endedAtTime=e},expression:"endedAtTime"}})],1),n("v-flex",{attrs:{xs12:"",sm4:""}},[n("v-menu",{ref:"dateMenu",attrs:{"close-on-content-click":!1,"return-value":t.date,"nudge-right":40,transition:"scale-transition","min-width":"290px","full-width":"","offset-y":"",lazy:""},on:{"update:returnValue":function(e){t.date=e}},model:{value:t.isDateMenuOpened,callback:function(e){t.isDateMenuOpened=e},expression:"isDateMenuOpened"}},[n("v-text-field",{attrs:{slot:"activator","prepend-icon":"event",label:"Date",readonly:""},slot:"activator",model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),n("v-date-picker",{attrs:{"no-title":"",scrollable:""},on:{change:function(e){t.$refs.dateMenu.save(t.date)}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1)],1)],1)])},Ke=[],Xe="allowEmptyBoth",Qe="allowEmptyEnd",Ze="checkBoth",tn={props:{startedAt:{default:Ae()().milliseconds(0).toISOString(),type:String},endedAt:{default:null,type:String},rangeValidationStrategy:{type:String,default:Ze,validator:function(t){return-1!==[Xe,Qe,Ze].indexOf(t)}}},name:"DateTimeRangePicker",data:function(){var t=this;return{startedAtTime:this.startedAt&&this.$moment(this.startedAt).format("HH:mm:ss")||this.$moment().format("HH:mm:ss"),endedAtTime:this.endedAt&&this.$moment(this.endedAt).format("HH:mm:ss")||null,date:this.startedAt&&this.$moment(this.startedAt).format("YYYY-MM-DD")||this.$moment().format("YYYY-MM-DD"),isTimeMenuOpened:!1,isDateMenuOpened:!1,timeValidationRules:[function(e){return t.isTimeValid()||""}]}},watch:{isTimeMenuOpened:function(){if(!this.isTimeMenuOpened&&this.isTimeValid()){var t=this.prepareDate("startedAtTime"),e=this.prepareDate("endedAtTime"),n=t?t.toISOString():null,r=e?e.toISOString():null;if(this.startedAt==n&&this.endedAt==r)return;this.$emit("rangeChanged",{startedAt:t&&t.toISOString(),endedAt:e&&e.toISOString()})}}},methods:{isTimeValid:function(){return this.startedAtTime&&this.endedAtTime?this.prepareDate("startedAtTime").isBefore(this.prepareDate("endedAtTime")):!(!this.startedAtTime||this.rangeValidationStrategy!=Qe)||this.rangeValidationStrategy==Xe},prepareDate:function(t){return this[t]?this.$moment(new Date(this.date+" "+this[t])):null},closeTimeMenu:function(){this.isTimeValid()&&(this.isTimeMenuOpened=!1)}}},en=tn,nn=(n("be83"),Object(d["a"])(en,Je,Ke,!1,null,"4d39af95",null));nn.options.__file="DateTimeRangePicker.vue";var rn=nn.exports,an={props:["timeEntry"],name:"TimerItem",components:{TimerItemDescription:$e,TimerProjectSelect:We,BillableButton:He,DateTimeRangePicker:rn},data:function(){return{menuIsActive:!1}},methods:Object(Vt["a"])({},Object(qt["b"])({deleteTimeEntry:"timers/deleteTimeEntry",updateTimeEntry:"timers/updateTimeEntry"}),{destroy:function(t){this.deleteTimeEntry(t)},toggleClass:function(){this.menuIsActive=!this.menuIsActive},onDescriptionChanged:function(t){this.timeEntry.description!=t&&this.updateTimeEntry(Object(Vt["a"])({},this.timeEntry,{description:t}))},onTimeRangeChanged:function(t){var e=t.endedAt,n=t.startedAt;this.updateTimeEntry(Object(Vt["a"])({},this.timeEntry,{startedAt:n,stoppedAt:e}))},onBillableStateChanged:function(t){this.timeEntry.billable!=t&&this.updateTimeEntry(Object(Vt["a"])({},this.timeEntry.id,{billable:t}))},onProjectChanged:function(t){this.updateTimeEntry(Object(Vt["a"])({},this.timeEntry,{projectId:t}))}}),computed:{timeEntryPeriod:function(){return[this.timeEntry.startedAtTime(),this.timeEntry.stoppedAtTime()].join(" - ")}}},sn=an,on=Object(d["a"])(sn,Ee,Se,!1,null,null,null);on.options.__file="TimerItem.vue";var cn=on.exports,un={components:{TimerItem:cn},name:"TimerList",computed:Object(Vt["a"])({},Object(qt["c"])({stoppedTimeEntries:"timers/stoppedTimeEntries"}),{timeEntryGroups:function(){var t=this;return this.$_.groupBy(this.stoppedTimeEntries,function(e){var n=t.$moment(e.startedAt).clone().startOf("day").format("ddd, D MMM"),r=t.$moment().startOf("day").format("ddd, D MMM"),i=t.$moment().subtract(1,"day").startOf("day").format("ddd, D MMM");return n==r?"Today":n==i?"Yesterday":t.$moment(e.startedAt).format("ddd, D MMM")})}}),methods:{totalGroupSpended:function(t){var e=this.$_.sumBy(t,function(t){return t.duration()});return this.$moment.duration(e).format("hh:mm:ss",{trim:!1})}}},ln=un,dn=(n("e068"),Object(d["a"])(ln,Oe,Te,!1,null,"f9ad9d32",null));dn.options.__file="TimerList.vue";var pn=dn.exports,mn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{lg12:""}},[n("v-card",{staticClass:"timer"},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{lg7:"",md6:"",xs12:"","pa-2":""}},[n("v-text-field",{ref:"descriptionInput",attrs:{value:t.activeTimeEntry.description,placeholder:"Your task description goes here"},on:{blur:t.changeDescription,keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault(),t.onDescriptionSubmit()}}})],1),n("v-flex",{attrs:{lg2:"",md6:"",xs12:"","pa-2":""}},[n("TimerProjectSelect",{attrs:{initialProject:t.activeTimeEntry.projectId},on:{projectChanged:t.onProjectChanged}})],1),n("v-flex",{attrs:{"lg-3":"","pa-2":""}},[n("v-layout",[n("v-flex",{attrs:{lg2:"","pt-2":""}},[n("BillableButton",{attrs:{initialBillableState:t.activeTimeEntry.billable},on:{billableChanged:t.onBillableStateChanged}})],1),n("v-flex",{attrs:{lg4:"","pt-4":""}},[n("DateTimeRangePicker",{attrs:{startedAt:t.activeTimeEntry.startedAt,rangeValidationStrategy:"allowEmptyEnd"},on:{rangeChanged:t.onTimeRangeChanged}},[n("TrackingBarTimer",{attrs:{slot:"activator"},slot:"activator"})],1)],1),n("v-flex",{attrs:{lg3:""}},[n("div",[t.isTimerStarted?t._e():n("v-btn",{attrs:{fab:"",dark:"",color:"teal"},on:{click:t.onStartButtonClick}},[n("v-icon",{attrs:{dark:""}},[t._v("play_arrow")])],1),t.isTimerStarted?n("v-btn",{attrs:{fab:"",dark:"",color:"pink"},on:{click:t.onStopButtonClick}},[n("v-icon",{attrs:{dark:""}},[t._v("stop")])],1):t._e()],1)]),n("v-flex",{attrs:{lg1:"","pt-2":"","pl-3":""}},[n("v-btn",{attrs:{flat:"",icon:"",color:"grey"},on:{click:t.deleteActiveTimer}},[n("v-icon",[t._v("delete")])],1)],1)],1)],1)],1)],1)],1)],1)},fn=[],hn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("input",{directives:[{name:"model",rawName:"v-model",value:t.durationFormatted,expression:"durationFormatted"}],staticClass:"timer__time",attrs:{readonly:""},domProps:{value:t.durationFormatted},on:{input:function(e){e.target.composing||(t.durationFormatted=e.target.value)}}})},vn=[],bn={name:"TrackingBarTimer",data:function(){return{interval:null,duration:this.$moment.duration(0),TICK_INTERVAL:500}},mounted:function(){this.interval=setInterval(this.updateClocksDuration,this.TICK_INTERVAL)},destroyed:function(){clearInterval(this.interval)},computed:{CLOCK_INTERVAL:function(){return 1e3},durationFormatted:function(){return this.duration.format("hh:mm:ss",{trim:!1})},startedAt:function(){return this.$store.getters["timers/activeTimeEntry"].startedAt}},methods:{updateClocksDuration:function(){if(this.startedAt){var t=this.$moment(),e=this.$moment(this.startedAt);this.duration=this.$moment.duration(t-e,"milliseconds")}else this.duration=this.$moment.duration(0)}}},gn=bn,jn=Object(d["a"])(gn,hn,vn,!1,null,null,null);jn.options.__file="TrackingBarTimer.vue";var yn=jn.exports,kn=(n("c637"),{name:"TrackingBar",components:{TrackingBarTimer:yn,TimerProjectSelect:We,BillableButton:He,DateTimeRangePicker:rn},data:function(){return{localBillable:null,localProjectId:null}},computed:Object(Vt["a"])({},Object(qt["c"])({activeTimeEntry:"timers/activeTimeEntry"}),{isTimerStarted:function(){return this.activeTimeEntry&&this.activeTimeEntry.startedAt}}),methods:Object(Vt["a"])({},Object(qt["d"])({updateTimeEntryOnlyLocaly:"timers/updateTimeEntry"}),Object(qt["b"])({deleteTimeEntry:"timers/deleteTimeEntry",start:"timers/createTimeEntry",updateTimeEntryOnServer:"timers/updateTimeEntry"}),{updateTimeEntry:function(t){this.isTimerStarted?this.updateTimeEntryOnServer(t):this.updateTimeEntryOnlyLocaly(t)},changeDescription:function(t){var e=Object(Vt["a"])({},this.activeTimeEntry,{description:t.target.value});this.updateTimeEntry(e)},onDescriptionSubmit:function(){if(!this.isTimerStarted){var t=Object(Vt["a"])({},this.activeTimeEntry,{startedAt:(new Date).toISOString()});this.start(t)}},onProjectChanged:function(t){var e=Object(Vt["a"])({},this.activeTimeEntry,{projectId:t});this.updateTimeEntry(e)},onBillableStateChanged:function(t){var e=Object(Vt["a"])({},this.activeTimeEntry,{billable:t});this.updateTimeEntry(e)},onTimeRangeChanged:function(t){var e=t.startedAt,n=t.endedAt,r=Object(Vt["a"])({},this.activeTimeEntry,{startedAt:e,stoppedAt:n});this.isTimerStarted?this.updateTimeEntry(r):this.start(r)},onStartButtonClick:function(){var t=Object(Vt["a"])({},this.activeTimeEntry,{startedAt:(new Date).toISOString()});this.start(t)},onStopButtonClick:function(){var t=Object(Vt["a"])({},this.activeTimeEntry,{stoppedAt:(new Date).toISOString()});this.updateTimeEntry(t)},deleteActiveTimer:function(){this.deleteTimeEntry(this.activeTimeEntry.id)}})}),xn=kn,wn=Object(d["a"])(xn,mn,fn,!1,null,null,null);wn.options.__file="TrackingBar.vue";var _n=wn.exports,On={name:"Timer",components:{TimerList:pn,TrackingBar:_n},methods:Object(Vt["a"])({},Object(qt["b"])({fetchTimeEntries:"timers/fetchTimeEntries",fetchProjects:"projects/fetchProjects"}),{requestNotificationPermitions:function(){Notification&&"granted"!==Notification.permission&&Notification.requestPermission().then(function(t){"granted"===t&&te.createSubscription()})}}),created:function(){Kt.isPromptAllowed()&&Kt.showPrompt(),this.requestNotificationPermitions(),this.fetchTimeEntries(),this.fetchProjects()}},Tn=On,En=Object(d["a"])(Tn,we,_e,!1,null,null,null);En.options.__file="Timer.vue";var Sn=En.exports,Rn={path:"/timer",component:Sn,name:"timer-list"},An=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-toolbar-title",[t._v("Projects")]),n("v-spacer"),n("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("New project")]),n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Name"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancel")]),n("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("Save")])],1)],1)],1)],1),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.projects,search:t.search,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[n("td",[t._v(t._s(e.item.name))]),n("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.status))]),n("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.team))]),n("td",{staticClass:"justify-center layout px-0"},[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(n){t.editItem(e.item)}}},[t._v("\n            edit\n          ")]),n("v-icon",{attrs:{small:""},on:{click:function(n){t.deleteItem(e.item)}}},[t._v("\n            delete\n          ")])],1)]}}])})],1),n("v-snackbar",{attrs:{bottom:!0,timeout:3e3},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n    "+t._s(t.snackbarText)+"\n    "),n("v-btn",{attrs:{color:"pink",flat:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n      Close\n    ")])],1)],1)},Dn=[],Pn=(n("20d6"),{data:function(){return{dialog:!1,snackbar:!1,snackbarText:"",search:"",headers:[{text:"Name",align:"left",sortable:!0,value:"name"},{text:"Status",value:"status",sortable:!0},{text:"Team",value:"team",sortable:!1},{text:"Actions",sortable:!1}],desserts:[],editedIndex:-1,editedItem:{name:""},defaultItem:{name:""}}},computed:Object(Vt["a"])({},Object(qt["c"])({projects:"projects/projects"}),{formTitle:function(){return-1===this.editedIndex?"New Project":"Edit Project"}}),created:function(){this.fetchProjects()},methods:Object(Vt["a"])({},Object(qt["b"])({fetchProjects:"projects/fetchProjects",updateProject:"projects/updateProject",deleteProject:"projects/deleteProject",createProject:"projects/createProject"}),{editItem:function(t){this.editedIndex=this.projects.findIndex(function(e){return t.id==e.id}),this.editedItem=Object(Vt["a"])({},t),this.dialog=!0},deleteItem:function(t){confirm("Are you sure you want to delete this item?")&&this.deleteProject(t.id)},close:function(){this.dialog=!1,this.editedItem=this.defaultItem,this.snackbar=!0},save:function(){this.editedIndex>-1?(this.snackbarText="Project updated",this.updateProject(this.editedItem)):(this.snackbarText="Project created",this.createProject(this.editedItem)),this.close()}})}),Cn=Pn,In=Object(d["a"])(Cn,An,Dn,!1,null,null,null);In.options.__file="Projects.vue";var Mn=In.exports,$n={path:"/projects",component:Mn,name:"projects"},Bn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("ReportFilter")],1),n("v-divider"),t.reportData?n("v-flex",{attrs:{xs12:""}},[n("ReportData")],1):t._e()],1)},Nn=[],Ln=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{lg3:"",md3:"",xs12:"","px-2":""}},[n("v-select",{attrs:{items:t.users,"item-text":"name","item-value":"id",label:"Select",multiple:"",autocomplete:"","max-height":"400",hint:"Pick team","persistent-hint":""},model:{value:t.filter.team,callback:function(e){t.$set(t.filter,"team",e)},expression:"filter.team"}})],1),n("v-flex",{attrs:{lg3:"",md3:"",xs12:"","px-2":""}},[n("v-select",{attrs:{items:t.projects,"item-text":"name","item-value":"id",label:"Select",multiple:"",autocomplete:"","max-height":"400",hint:"Pick project","persistent-hint":""},model:{value:t.filter.projects,callback:function(e){t.$set(t.filter,"projects",e)},expression:"filter.projects"}})],1),n("v-flex",{attrs:{lg3:"",md5:"",xs12:"","px-2":""}},[n("DateRangePicker",{attrs:{dateRange:t.filter.dateRange}})],1),n("v-flex",{attrs:{lg2:""}},[n("v-select",{attrs:{items:t.billableOptions,"item-text":"name","item-value":"value",label:"Select","max-height":"400",hint:"Set billable","persistent-hint":""},model:{value:t.filter.billable,callback:function(e){t.$set(t.filter,"billable",e)},expression:"filter.billable"}})],1),n("v-flex",{attrs:{lg1:"",md1:"",xs12:""}},[n("v-btn",{attrs:{color:"info"},on:{click:function(e){t.fetchSummaryReportWIthFilter(t.filter)}}},[t._v("Apply")])],1)],1)},zn=[],Un=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",[n("v-flex",{attrs:{md6:"",sm6:"",xs12:""}},[n("v-menu",{ref:"startDateMenu",attrs:{"close-on-content-click":!1,"return-value":t.dateRange.start,"nudge-right":40,transition:"scale-transition","min-width":"290px","full-width":"","offset-y":"",lazy:""},on:{"update:returnValue":function(e){t.$set(t.dateRange,"start",e)}},model:{value:t.isStartDateMenuOpened,callback:function(e){t.isStartDateMenuOpened=e},expression:"isStartDateMenuOpened"}},[n("v-text-field",{attrs:{slot:"activator","prepend-icon":"event",label:"Date",readonly:""},slot:"activator",model:{value:t.dateRange.start,callback:function(e){t.$set(t.dateRange,"start",e)},expression:"dateRange.start"}}),n("v-date-picker",{attrs:{"no-title":"",scrollable:""},on:{change:function(e){t.$refs.startDateMenu.save(t.dateRange.start)}},model:{value:t.dateRange.start,callback:function(e){t.$set(t.dateRange,"start",e)},expression:"dateRange.start"}})],1)],1),n("v-flex",{attrs:{md6:"",sm6:"",xs12:""}},[n("v-menu",{ref:"endDateMenu",attrs:{"close-on-content-click":!1,"return-value":t.dateRange.end,"nudge-right":40,transition:"scale-transition","min-width":"290px","full-width":"","offset-y":"",lazy:""},on:{"update:returnValue":function(e){t.$set(t.dateRange,"end",e)}},model:{value:t.isEndDateMenuOpened,callback:function(e){t.isEndDateMenuOpened=e},expression:"isEndDateMenuOpened"}},[n("v-text-field",{attrs:{slot:"activator","prepend-icon":"event",label:"Date",readonly:""},slot:"activator",model:{value:t.dateRange.end,callback:function(e){t.$set(t.dateRange,"end",e)},expression:"dateRange.end"}}),n("v-date-picker",{attrs:{"no-title":"",scrollable:""},on:{change:function(e){t.$refs.endDateMenu.save(t.dateRange.end)}},model:{value:t.dateRange.end,callback:function(e){t.$set(t.dateRange,"end",e)},expression:"dateRange.end"}})],1)],1)],1)},Wn=[],Yn={props:["dateRange"],data:function(){return{isStartDateMenuOpened:!0,isEndDateMenuOpened:!0}}},Fn=Yn,Gn=Object(d["a"])(Fn,Un,Wn,!1,null,null,null);Gn.options.__file="DateRangePicker.vue";var Vn=Gn.exports,qn={components:{DateRangePicker:Vn},data:function(){return{billableOptions:[{name:"Billable",value:!0},{name:"Non-billable",value:!1},{name:"Both",value:null}]}},computed:Object(Vt["a"])({},Object(qt["c"])({users:"reports/users",currentUser:"auth/currentUser",projects:"projects/projects"}),{filter:function(){return this.$_.cloneDeep(this.$store.getters["reports/reportFilter"])}}),created:function(){this.initDefaultFilterParams(),this.fetchSummaryReportWIthFilter(this.filter)},methods:Object(Vt["a"])({},Object(qt["b"])({fetchSummaryReportWIthFilter:"reports/fetchSummaryReportWIthFilter"}),{initDefaultFilterParams:function(){this.filter.team=[this.currentUser.id],this.filter.dateRange.start=this.$moment().startOf("isoWeek").format("YYYY-MM-DD"),this.filter.dateRange.end=this.$moment().endOf("isoWeek").format("YYYY-MM-DD")}})},Hn=qn,Jn=Object(d["a"])(Hn,Ln,zn,!1,null,null,null);Jn.options.__file="ReportFilter.vue";var Kn=Jn.exports,Xn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{attrs:{raw:"",wrap:""}},[n("v-flex",{attrs:{xs3:"","px-2":""}},[n("v-select",{attrs:{items:t.groupOptions,"item-text":"title","item-value":"value",label:"Group by","max-height":"400"},model:{value:t.reportGrouping.groupBy,callback:function(e){t.$set(t.reportGrouping,"groupBy",e)},expression:"reportGrouping.groupBy"}})],1),n("v-flex",{attrs:{xs3:"","px-2":""}},[n("v-select",{attrs:{items:t.subgroupOptions,"item-text":"title","item-value":"value",label:"Subgroup by","max-height":"400"},model:{value:t.reportGrouping.subgroupBy,callback:function(e){t.$set(t.reportGrouping,"subgroupBy",e)},expression:"reportGrouping.subgroupBy"}})],1)],1),n("div",[t._v(t._s(JSON.stringify(t.reportData)))])],1)},Qn=[],Zn={data:function(){return{groupOptions:[{title:"Project",value:"project"},{title:"User",value:"user"}],subgroupOptions:[{title:"Time Entry",value:"time_entry"}]}},computed:Object(Vt["a"])({},Object(qt["c"])({reportData:"reports/reportData"}),{reportGrouping:function(){return this.$_.cloneDeep(this.$store.getters["reports/reportGrouping"])}})},tr=Zn,er=Object(d["a"])(tr,Xn,Qn,!1,null,null,null);er.options.__file="ReportData.vue";var nr=er.exports,rr={name:"Reports",components:{ReportFilter:Kn,ReportData:nr},computed:Object(Vt["a"])({},Object(qt["c"])({reportData:"reports/reportData"})),methods:Object(Vt["a"])({},Object(qt["b"])({fetchUsers:"reports/fetchWorkspaceUsers"})),created:function(){this.fetchUsers()}},ir=rr,ar=Object(d["a"])(ir,Bn,Nn,!1,null,null,null);ar.options.__file="Reports.vue";var sr=ar.exports,or={path:"/reports",component:sr,name:"reports"};i["default"].use(f["a"]);var cr=[gt,$n,or];dt.isMobile()?cr.push(xe):cr.push(Rn);var ur,lr,dr,pr,mr=new f["a"]({mode:"history",routes:[{path:"*",component:ot,redirect:"timer"},{path:"/",component:j,children:[Bt,gt]},{path:"/apidoc",redirect:function(){window.location.href=$.apiDocUrl}},{path:"/app",name:"app",component:et,beforeEnter:ut,children:cr}]}),fr=mr,hr=(n("7514"),n("a322")),vr="SET_TIME_ENTRIES",br="updateTimeEntry",gr="DELETE_TIME_ENTRY",jr="ADD_TIME_ENTRY",yr=(n("f751"),n("2ef0")),kr=(n("ac6a"),n("dc0a")),xr=n("d328"),wr=n("11d9"),_r=n("b8d7"),Or=function(t){function e(t,n){var r;return Object(T["a"])(this,e),r=Object(xr["a"])(this,Object(wr["a"])(e).call(this,t)),r.cacheStore=n,r}return Object(E["a"])(e,[{key:"get",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var n,r=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(_r["a"])(Object(wr["a"])(e.prototype),"get",this).call(this);case 3:return n=t.sent,n.forEach(function(t){t.unsynced=!1,r.cacheStore.write(t)}),t.abrupt("return",n);case 8:return t.prev=8,t.t0=t["catch"](0),t.abrupt("return",this.cacheStore.readAllData());case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(){return t.apply(this,arguments)}}()},{key:"post",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(_r["a"])(Object(wr["a"])(e.prototype),"post",this).call(this,n);case 2:return r=t.sent,r.unsynced=!1,this.cacheStore.write(r),t.abrupt("return",r);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"put",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(n,r){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(_r["a"])(Object(wr["a"])(e.prototype),"put",this).call(this,n,r);case 2:return i=t.sent,i.unsynced=!1,this.cacheStore.write(i),t.abrupt("return",i);case 6:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"delete",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(_r["a"])(Object(wr["a"])(e.prototype),"delete",this).call(this,n);case 2:return r=t.sent,this.cacheStore.delete(n),t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}]),Object(kr["a"])(e,t),e}(L),Tr=n("c64e"),Er=function(t){function e(t,n,r){var i;return Object(T["a"])(this,e),i=Object(xr["a"])(this,Object(wr["a"])(e).call(this,t,n)),i.resourceSyncTaskName=r.getName(),i.resourceSyncStore=r,i}return Object(E["a"])(e,[{key:"post",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(r=Object(Vt["a"])({},n,{id:Tr()}),!navigator.onLine){t.next=6;break}return t.next=4,Object(_r["a"])(Object(wr["a"])(e.prototype),"post",this).call(this,r);case 4:t.next=11;break;case 6:return r.unsynced=!0,t.next=9,this.cacheStore.write(r);case 9:return t.next=11,this.registerSyncTaskWithOperationsSyncronozation(r,"create");case 11:return t.abrupt("return",r);case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"put",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(n,r){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(i=Object(Vt["a"])({},r,{id:n}),!navigator.onLine){t.next=6;break}return t.next=4,Object(_r["a"])(Object(wr["a"])(e.prototype),"put",this).call(this,n,i);case 4:t.next=11;break;case 6:return i.unsynced=!0,t.next=9,this.cacheStore.write(i);case 9:return t.next=11,this.registerSyncTaskWithOperationsSyncronozation(i,"update");case 11:return t.abrupt("return",i);case 12:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"delete",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!navigator.onLine){t.next=5;break}return t.next=3,Object(_r["a"])(Object(wr["a"])(e.prototype),"delete",this).call(this,n);case 3:t.next=9;break;case 5:return t.next=7,this.cacheStore.delete(n);case 7:return t.next=9,this.registerSyncTaskWithOperationsSyncronozation({id:n},"delete");case 9:return t.abrupt("return",n);case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"registerSyncTaskWithOperationsSyncronozation",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){var r,i,a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r={id:e.id,data:e,operationType:null},t.next=3,navigator.serviceWorker.ready;case 3:i=t.sent,t.t0=n,t.next="create"===t.t0?7:"update"===t.t0?12:"delete"===t.t0?20:33;break;case 7:return r.operationType="create",t.next=10,this.resourceSyncStore.write(r);case 10:return i.sync.register(this.resourceSyncTaskName),t.abrupt("break",34);case 12:return t.next=14,this.resourceSyncStore.read(e.id);case 14:return a=t.sent,a&&"create"===a.operationType?r.operationType="create":r.operationType="update",t.next=18,this.resourceSyncStore.write(r);case 18:return i.sync.register(this.resourceSyncTaskName),t.abrupt("break",34);case 20:return t.next=22,this.resourceSyncStore.read(e.id);case 22:if(s=t.sent,!s||"create"!=s.operationType){t.next=28;break}return t.next=26,this.resourceSyncStore.delete(r.id);case 26:t.next=32;break;case 28:return r.operationType="delete",t.next=31,this.resourceSyncStore.write(r);case 31:i.sync.register(this.resourceSyncTaskName);case 32:return t.abrupt("break",34);case 33:return t.abrupt("break",34);case 34:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()}]),Object(kr["a"])(e,t),e}(Or),Sr="twork-store",Rr="time-entries",Ar="sync-time-entries",Dr=[Rr,Ar],Pr=function(){function t(e){if(Object(T["a"])(this,t),!Dr.find(function(t){return t===e}))throw e+" should be added to the initialization list inside TworkIndexedDBStore";this.objectStoreName=e}return Object(E["a"])(t,null,[{key:"initStores",value:function(){return R.a.open(Sr,1,function(t){Dr.forEach(function(e){t.objectStoreNames.contains(e)||t.createObjectStore(e,{keyPath:"id"})})})}}]),Object(E["a"])(t,[{key:"getName",value:function(){return this.objectStoreName}},{key:"write",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var n,r,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,R.a.open(Sr);case 2:return n=t.sent,r=n.transaction(this.objectStoreName,"readwrite"),i=r.objectStore(this.objectStoreName),t.next=7,i.put(e);case 7:return t.abrupt("return",r.complete);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"read",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var n,r,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.a.open(Sr);case 3:return n=t.sent,r=n.transaction(this.objectStoreName,"readonly"),i=r.objectStore(this.objectStoreName),t.abrupt("return",i.get(e));case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()},{key:"delete",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var n,r,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.a.open(Sr);case 3:return n=t.sent,r=n.transaction(this.objectStoreName,"readwrite"),i=r.objectStore(this.objectStoreName),i.delete(e),t.abrupt("return",r.complete);case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0);case 13:case"end":return t.stop()}},t,this,[[0,10]])}));return function(e){return t.apply(this,arguments)}}()},{key:"readAllData",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.init();case 3:return e=t.sent,n=e.transaction(this.objectStoreName,"readonly"),r=n.objectStore(this.objectStoreName),t.abrupt("return",r.getAll());case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(){return t.apply(this,arguments)}}()}]),t}(),Cr=Pr,Ir="/users/me/time_entries",Mr=function(){if("indexedDB"in window&&$.isProduction){var t=new Cr(Rr);if("serviceWorker"in navigator&&"SyncManager"in window){var e=new Cr(Ar);return new Er(Ir,t,e)}return new Or(Ir,t)}return new L(Ir)}(),$r=Mr,Br={fetchTimeEntries:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,$r.get();case 3:r=t.sent,n(vr,r);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),createTimeEntry:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){var r,i,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,i=Object.assign(n,{workspaceId:Y.getCurrentWorkspaceId()}),t.next=4,$r.post(i);case 4:a=t.sent,r(jr,a);case 6:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),updateTimeEntry:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){var r,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,$r.put(n.id,n);case 3:i=t.sent,r(br,i);case 5:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),deleteTimeEntry:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$r.delete(n);case 2:e.commit(gr,n);case 3:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},Nr=function(){function t(e){Object(T["a"])(this,t),Object.assign(this,e)}return Object(E["a"])(t,null,[{key:"buildEmpty",value:function(){return new t({startedAt:null,stoppedAt:null,description:"",project:null,billable:!1})}}]),Object(E["a"])(t,[{key:"isStarted",value:function(){return!!this.startedAt}},{key:"isStopped",value:function(){return this.isStarted()&&!!this.stoppedAt}},{key:"startedAtTime",value:function(){return Ae()(this.startedAt).format("hh:mm A")}},{key:"stoppedAtTime",value:function(){return Ae()(this.stoppedAt).format("hh:mm A")}},{key:"unixTimestamp",value:function(){return Ae()(this.stoppedAt).format("X")}},{key:"date",value:function(){return Ae()(this.stoppedAt).format("YYYY-MM-DD")}},{key:"duration",value:function(){return Ae.a.duration(Ae()(this.stoppedAt)-Ae()(this.startedAt))}},{key:"getDurationText",value:function(){return this.duration().format("hh:mm:ss",{trim:!1})}}]),t}(),Lr={timeEntries:null,emptyTimeEntry:Nr.buildEmpty()},zr=(ur={},Object(hr["a"])(ur,vr,function(t,e){t.timeEntries=e}),Object(hr["a"])(ur,jr,function(t,e){t.timeEntries.unshift(e)}),Object(hr["a"])(ur,br,function(t,e){var n=yr["findIndex"](t.timeEntries,{id:e.id});t.timeEntries.splice(n,1,e)}),Object(hr["a"])(ur,gr,function(t,e){var n=yr["findIndex"](t.timeEntries,{id:e});t.timeEntries.splice(n,1)}),ur),Ur={timeEntries:function(){return null==Lr.timeEntries?null:yr["map"](Lr.timeEntries,function(t){return new Nr(t)})},stoppedTimeEntries:function(t){return yr["map"](yr["orderBy"](yr["filter"](t.timeEntries,function(t){return t.stoppedAt}),function(t){return new Date(t.startedAt)},"desc"),function(t){return new Nr(t)})},activeTimeEntry:function(t){var e=yr["find"](t.timeEntries,function(t){return!t.stoppedAt});return e&&new Nr(e)||t.emptyTimeEntry}},Wr={namespaced:!0,state:Lr,mutations:zr,actions:Br,getters:Ur},Yr="SET_TIME_ENTRIES",Fr="updateTimeEntry",Gr="DELETE_TIME_ENTRY",Vr="ADD_TIME_ENTRY",qr="/users/me/time_entries",Hr=function(){if("indexedDB"in window&&$.isProduction){var t=new Cr(Rr);if("serviceWorker"in navigator&&"SyncManager"in window){var e=new Cr(Ar);return new Er(qr,t,e)}return new Or(qr,t)}return new L(qr)}(),Jr=Hr,Kr={fetchTimeEntries:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,Jr.get();case 3:r=t.sent,n(Yr,r);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),createTimeEntry:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){var r,i,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,i=Object.assign(n,{workspaceId:Y.getCurrentWorkspaceId()}),t.next=4,Jr.post(i);case 4:a=t.sent,r(Vr,a);case 6:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),updateTimeEntry:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){var r,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,Jr.put(n.id,n);case 3:i=t.sent,r(Fr,i);case 5:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),deleteTimeEntry:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Jr.delete(n);case 2:e.commit(Gr,n);case 3:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},Xr=function(){function t(e){Object(T["a"])(this,t),Object.assign(this,e)}return Object(E["a"])(t,null,[{key:"buildEmpty",value:function(){return new t({startedAt:null,stoppedAt:null,description:"",project:null,billable:!1})}}]),Object(E["a"])(t,[{key:"isStarted",value:function(){return!!this.startedAt}},{key:"isStopped",value:function(){return this.isStarted()&&!!this.stoppedAt}},{key:"startedAtTime",value:function(){return Ae()(this.startedAt).format("hh:mm A")}},{key:"stoppedAtTime",value:function(){return Ae()(this.stoppedAt).format("hh:mm A")}},{key:"unixTimestamp",value:function(){return Ae()(this.stoppedAt).format("X")}},{key:"date",value:function(){return Ae()(this.stoppedAt).format("YYYY-MM-DD")}},{key:"duration",value:function(){return Ae.a.duration(Ae()(this.stoppedAt)-Ae()(this.startedAt))}}]),t}(),Qr={timeEntries:null,emptyTimeEntry:Xr.buildEmpty()},Zr=(lr={},Object(hr["a"])(lr,Yr,function(t,e){t.timeEntries=e}),Object(hr["a"])(lr,Vr,function(t,e){t.timeEntries.unshift(e)}),Object(hr["a"])(lr,Fr,function(t,e){var n=yr["findIndex"](t.timeEntries,{id:e.id});t.timeEntries.splice(n,1,e)}),Object(hr["a"])(lr,Gr,function(t,e){var n=yr["findIndex"](t.timeEntries,{id:e});t.timeEntries.splice(n,1)}),lr),ti={timeEntries:function(){return null==Qr.timeEntries?null:yr["map"](Qr.timeEntries,function(t){return new Xr(t)})},stoppedTimeEntries:function(t){return yr["map"](yr["orderBy"](yr["filter"](t.timeEntries,function(t){return t.stoppedAt}),function(t){return new Date(t.startedAt)},"desc"),function(t){return new Xr(t)})},activeTimeEntry:function(t){var e=yr["find"](t.timeEntries,function(t){return!t.stoppedAt});return e&&new Xr(e)||t.emptyTimeEntry}},ei={namespaced:!0,state:Qr,mutations:Zr,actions:Kr,getters:ti},ni="UPDATE",ri="DELETE",ii="SET_PROJECTS",ai="ADD",si=new L("/users/me/projects"),oi={fetchProjects:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,si.get();case 2:n=t.sent,e.commit(ii,n);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),deleteProject:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,si.delete(n,{workspaceId:Y.getCurrentWorkspaceId()});case 2:r=t.sent,e.commit(ri,r.id);case 4:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),createProject:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){var r,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=Object(Vt["a"])({},n,{workspaceId:Y.getCurrentWorkspaceId()}),t.next=3,si.post(r);case 3:i=t.sent,e.commit(ai,i);case 5:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),updateProject:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,si.put(n.id,n);case 2:r=t.sent,e.commit(ni,r);case 4:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},ci=(n("7f7f"),function(){function t(e){Object(T["a"])(this,t),this.name=e.name,this.workspaceId=e.workspaceId,this.id=e.id}return Object(E["a"])(t,null,[{key:"buildEmpty",value:function(){return new t({name:"",workspace:""})}}]),Object(E["a"])(t,[{key:"clone",value:function(){return new this.constructor(this)}}]),t}()),ui={projects:[]},li=(dr={},Object(hr["a"])(dr,ii,function(t,e){t.projects=e}),Object(hr["a"])(dr,ri,function(t,e){var n=yr["findIndex"](t.projects,{id:e});t.projects.splice(n,1)}),Object(hr["a"])(dr,ai,function(t,e){t.projects.unshift(new ci(e))}),Object(hr["a"])(dr,ni,function(t,e){var n=yr["findIndex"](t.projects,{id:e.id});t.projects.splice(n,1,e)}),dr),di={projects:function(t){return yr["map"](t.projects,function(t){return new ci(t)})}},pi={namespaced:!0,state:ui,mutations:li,actions:oi,getters:di},mi="SET_USERS",fi="SET_FILTER",hi="SET_REPORT_DATA",vi="/workspaces",bi="/reports",gi={users:[],reportFilter:{team:[],projects:[],billable:null,dateRange:{start:null,end:null}},reportGrouping:{groupBy:null,subgroupBy:null},reportData:null},ji=(pr={},Object(hr["a"])(pr,mi,function(t,e){t.users=e}),Object(hr["a"])(pr,fi,function(t,e){t.reportFilter=e}),Object(hr["a"])(pr,hi,function(t,e){t.reportData=e}),pr),yi={users:function(t){return t.users},reportFilter:function(t){return t.reportFilter},reportGrouping:function(t){return t.reportGrouping},reportData:function(t){return t.reportData}},ki={fetchWorkspaceUsers:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var n,r,a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,e.state,r=e.rootGetters,a=r["auth/currentWorkspaceId"],t.next=4,i["default"].axios.get("".concat(vi,"/").concat(a,"/users"));case 4:s=t.sent,n(mi,s.data);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),fetchSummaryReportWIthFilter:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,r(fi,n),a=Object.assign(n,{start:n.dateRange.start,end:n.dateRange.end}),t.next=5,i["default"].axios.get("".concat(bi,"/summary"),{params:a});case 5:s=t.sent,r(hi,s.data);case 7:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},xi={namespaced:!0,state:gi,mutations:ji,actions:ki,getters:yi};i["default"].use(qt["a"]);var wi=dt.isMobile()?Wr:ei,_i=new qt["a"].Store({modules:{timers:wi,projects:pi,reports:xi},strict:!0}),Oi=n("9483");Object(Oi["a"])("/service-worker.js",{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var Ti=n("219c"),Ei=(n("bf40"),{store:_i,install:function(t){t.prototype.$store=_i}}),Si={lodash:yr,install:function(t){t.prototype.$_=yr}},Ri={moment:Ae.a,install:function(t){t.prototype.$moment=Ae.a}},Ai="ontouchstart"in window||navigator.msMaxTouchPoints>0,Di={instances:[],events:Ai?["touchstart","click"]:["click"],onEvent:function(t){Di.instances.forEach(function(e){var n=e.el,r=e.fn;t.target===n||n.contains(t.target)||r&&r(t)})},bind:function(t,e){Di.instances.push({el:t,fn:e.value}),1===Di.instances.length&&Di.events.forEach(function(t){return document.addEventListener(t,Di.onEvent)})},update:function(t,e){if("function"!==typeof e.value)throw new Error("Argument must be a function");var n=Di.instances.find(function(e){return e.el===t});n.fn=e.value},unbind:function(t){var e=Di.instances.findIndex(function(e){return e.el===t});e>=0&&Di.instances.splice(e,1),0===Di.instances.length&&Di.events.forEach(function(t){return document.removeEventListener(t,Di.onEvent)})}},Pi="undefined"!==typeof window?Di:{};i["default"].use(s.a),i["default"].use(Ri),i["default"].use(Si),i["default"].use(Ei),i["default"].use(Ti),i["default"].directive("click-outside",Pi),i["default"].config.productionTip=!1;var Ci=function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(Kt.initBeforeInstallPromptListener(),!("indexedDB"in window)){t.next=4;break}return t.next=4,Cr.initStores();case 4:return t.abrupt("return",!0);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}();new i["default"]({router:fr,store:_i,render:function(t){return t(m)},created:Ci}).$mount("#app")},"7e61":function(t,e,n){},"7ea1":function(t,e,n){},a5d2:function(t,e,n){"use strict";var r=n("2a44"),i=n.n(r);i.a},be83:function(t,e,n){"use strict";var r=n("7e61"),i=n.n(r);i.a},c637:function(t,e,n){t.exports=n.p+"img/trash.3717ce2f.svg"},e068:function(t,e,n){"use strict";var r=n("7ea1"),i=n.n(r);i.a}});
//# sourceMappingURL=app.3eb8f2bf.js.map